

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FTOOP Java Examples 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="None" href="index.html#document-index"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html#document-index" class="icon icon-home"> FTOOP Java Examples
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-patterns/index">1. Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-threading/index">2. Threading</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-advanced-techniques/index">3. Advanced Techniques</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-gui/gui">4. GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-smells/smells">5. Smells</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-testing/testing">6. Testing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html#document-index">FTOOP Java Examples</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html#document-index">Docs</a> &raquo;</li>
      
    <li>FTOOP Java Examples 1.0 documentation</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-ftoop-java-examples">
<h1>Welcome to FTOOP Java Examples<a class="headerlink" href="#welcome-to-ftoop-java-examples" title="Permalink to this headline">¶</a></h1>
<p>Contents:</p>
<div class="toctree-wrapper compound">
<span id="document-patterns/index"></span><div class="section" id="patterns">
<h2>1. Patterns<a class="headerlink" href="#patterns" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-patterns/behavior-patterns/000_Iterator"></span><div class="section" id="iterator-s-1118">
<h3>1.1. Iterator (S.1118)<a class="headerlink" href="#iterator-s-1118" title="Permalink to this headline">¶</a></h3>
<p>Eine Art Hilfsklasse, die dafür zuständig ist, durch eine Sammlung von Objekten hindurch zu iterieren. Dies trennt somit auch die Zuständigkeiten,
sodass sich die Datenstruktur nur um die Daten kümmern muss und der Iterator um das Ablaufen derselben.</p>
<p>Meist wird ein Interface eines allgemeinen Iterators verwendet («Polymorpher Iterator»), das die Methoden <code class="docutils literal"><span class="pre">Object</span> <span class="pre">nextElement()</span></code> sowie <code class="docutils literal"><span class="pre">boolean</span> <span class="pre">hasNext()</span></code> vorgibt.</p>
<p>Ein Iterator speichert auch die aktuelle Position der Iteration.</p>
<div class="section" id="vorteile">
<h4>1.1.1. Vorteile<a class="headerlink" href="#vorteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><strong>Abstraktion und Kapselung:</strong> Die zu durchlaufende Datenstruktur wird gekapselt und kann bei Bedarf im Nachhinein verändert werden, ohne dass dies Änderungen aufseiten von Clients verursacht.</li>
<li><strong>Vereinfachung:</strong> Die Realisierung eigener Iteratorklassen für komplexere Datenstrukturen kann dabei helfen, eine ansonsten schwierige Implementierung des Iterationsprozesses zu kapseln, aus der Programmlogik herauszulösen und diese zu vereinfachen.</li>
<li><strong>Bessere Lesbarkeit:</strong> Lesbarkeit besser als bei einer <code class="docutils literal"><span class="pre">for</span></code>-Schleife</li>
</ul>
</div>
<div class="section" id="nachteile">
<h4>1.1.2. Nachteile<a class="headerlink" href="#nachteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><strong>Existenz einer alternativen Schreibweise in der Sprache:</strong> Seit Java 5 existiert mit der <code class="docutils literal"><span class="pre">for-each</span></code>-Schleife eine Möglichkeit, die Lesbarkeit von Iterationen zu verbessern. Es können beliebige Datenstrukturen durchlaufen werden, die das Interface <code class="docutils literal"><span class="pre">Iterable&lt;T&gt;</span></code> implementieren. Dies wird implizit mit einem <code class="docutils literal"><span class="pre">Iterator&lt;E&gt;</span></code> implementiert - versteckt aber dieses Detail.</li>
</ul>
</div>
</div>
<span id="document-patterns/behavior-patterns/010_null-object"></span><div class="section" id="null-objekt-s-1120">
<h3>1.2. Null-Objekt (S.1120)<a class="headerlink" href="#null-objekt-s-1120" title="Permalink to this headline">¶</a></h3>
<p>Statt bei ungültigen Anfragen oder leeren Mengen <code class="docutils literal"><span class="pre">null</span></code> zurückzugeben, wird von der verwendeten Klasse eine «Null-Objekt»-Variante implementiert. Dies kann einerseits durch
eine Unterklasse implementiert sein, wobei sämtliche Funktionen angepasst oder entfernt werden müssten. Vorzuziehen ist allerdings - falls die Hauptklasse ein Interface implementiert -
eine Null-Objekt-Klasse gegen dieses Interface zu realisieren. Dies verhindert, dass versehentlich vergessene Restfunktionalitäten in der Unterklasse trotzdem
aufgerufen werden könnten.</p>
<p>Dieses Pattern hat den Vorteil, dass kein Rückgabewert <code class="docutils literal"><span class="pre">null</span></code> vorkommt, der speziell evaluiert werden müsste.</p>
<div class="section" id="implementierung-der-methoden">
<h4>1.2.1. Implementierung der Methoden<a class="headerlink" href="#implementierung-der-methoden" title="Permalink to this headline">¶</a></h4>
<p>Um die «Null»-Eigenschaft auszudrücken, müssen Methoden für die Null-Objekt-Unterklasse nach folgenden Tipps implementiert/angepasst werden:</p>
<ul class="simple">
<li>Alle <code class="docutils literal"><span class="pre">void</span></code>-Methoden werden leer implementiert.</li>
<li><code class="docutils literal"><span class="pre">boolean</span></code>-Methoden geben häufig false zurück (z.B. für <code class="docutils literal"><span class="pre">hasNext()</span></code>)</li>
<li>Für <code class="docutils literal"><span class="pre">int``bieten</span> <span class="pre">sich</span> <span class="pre">of</span> <span class="pre">0</span> <span class="pre">oder</span> <span class="pre">-1</span> <span class="pre">als</span> <span class="pre">Rückgabewerte</span> <span class="pre">an</span> <span class="pre">(z.B.</span> <span class="pre">für</span> <span class="pre">``getSize()</span></code>)</li>
<li>Gleiches gilt für weitere Zahlentypen (float, double, etc.)</li>
<li>Für Strings bietet sich ein Leerstring als Rückgabe an.</li>
<li>Für Objektreferenzen kann entweder rekursiv das NULL-OBJEKT-Muster angewendet oder aber der Wert <code class="docutils literal"><span class="pre">null</span></code> zurückgegeben werden. Manchmal bietet sich auch das Auslösen einer NoSuchElementException an.</li>
<li>Für untypisierte Container sind im Collections-Framework die NULL-OBJEKT-Konstanten <code class="docutils literal"><span class="pre">EMPTY_SET,</span> <span class="pre">EMPTY_LIST</span></code> oder <cite>ÈMPTY_MAP`</cite> definiert. Für generische Typen existieren die Methoden <code class="docutils literal"><span class="pre">emptySet(),</span> <span class="pre">emptyList()</span></code> und <code class="docutils literal"><span class="pre">emptyMap()</span></code>, die typsichere, leere und unmodifizierbare Container zurückliefern.</li>
<li>Arrays sollten mit <code class="docutils literal"><span class="pre">new</span> <span class="pre">ArrayType[0]</span></code> als leeres Array zurückgegeben werden.</li>
<li>Für Methoden, deren Rückgabewert für ein Null-Objekt nicht sinnvoll gewählt werden kann, sollte eine <code class="docutils literal"><span class="pre">UnsupportedOperationException</span></code> geworfen werden.</li>
</ul>
</div>
<div class="section" id="vorteile">
<h4>1.2.2. Vorteile<a class="headerlink" href="#vorteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><strong>Bessere Lesbarkeit und keine Spezialbehandlungen:</strong> Anwendungscode kann auf Spezialbehandlungen verzichten und ist lesbarer.</li>
</ul>
</div>
<div class="section" id="nachteile">
<h4>1.2.3. Nachteile<a class="headerlink" href="#nachteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><strong>Konzeptionelle Probleme:</strong> Manchmal kann es schwierig sein, einen geeigneten Rückgabewert für eine best. Methode zu finden und es muss eine Exception geworfen werden.</li>
<li><strong>Fehlerverschleierung möglich:</strong> In best. Fällen ist es entscheidend zwischen den Fällen «es gibt <em>ein</em> Objekt» und «es gibt <em>kein</em> Objekt» zu unterscheiden. Diese Pattern kann in solchen Fällen zu Undeutlichkeiten führen.</li>
</ul>
</div>
</div>
<span id="document-patterns/behavior-patterns/020_template-method"></span><div class="section" id="todo-template-method-s-1123">
<h3>1.3. TODO: Template Method (S.1123)<a class="headerlink" href="#todo-template-method-s-1123" title="Permalink to this headline">¶</a></h3>
<p>Eine bestehende Klasse wird von einer Wrapper-Klasse umhült und erweitert. Grundlage dabei ist ein gemeinsamer Basistyp oder Interface. Eine best. Methode wird dabei erst vom Wrapper aufgerufen und dann vom «gewrappten» Objekt.</p>
<div class="section" id="vorteile">
<h4>1.3.1. Vorteile<a class="headerlink" href="#vorteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Transparent zusätzliche Funktionalität ohne Vererbung</li>
<li>Hintereinanderschaltung mehrerer Decorators möglich</li>
<li>Fexibilität: Zu dekorierende Klasse nicht festgelegt, da nur gegen gemeinsames Interface programmiert wird =&gt; Wrapper können für mehrere verschiedene Klassen genutzt werden.</li>
<li>Vereinfachung von Vererbungshierarchien (im Gegensatz zu Vererbung)</li>
</ul>
</div>
<div class="section" id="nachteile">
<h4>1.3.2. Nachteile<a class="headerlink" href="#nachteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Gemeinsamer Basistyp benötigt</li>
<li>Fehlende Kontrolle über Einsatz von Entwickler (z.B. mehrfache Hintereinanderschaltung, sinnvoll?)</li>
<li>Zugriff auf Spezialisierungen schwieriger möglich</li>
<li>Implementierungsaufwand</li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">patterns.verhaltensmuster.template</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">AirplaneChecklist</span> <span class="o">{</span>
	
	<span class="c1">// Mandatory template methods</span>
	<span class="kd">abstract</span> <span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">checkControls</span><span class="o">();</span>
	<span class="kd">abstract</span> <span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">checkGearStatus</span><span class="o">();</span>
	<span class="kd">abstract</span> <span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">checkFuel</span><span class="o">();</span>
	
	<span class="c1">// Optional hook methods</span>
	<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">beforeChecklist</span><span class="o">()</span> <span class="o">{}</span>
	<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">checklistSuccessful</span><span class="o">()</span> <span class="o">{}</span>
	<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">checklistFailed</span><span class="o">()</span> <span class="o">{}</span>
	
	<span class="kd">public</span> <span class="nf">AirplaneChecklist</span><span class="o">()</span> <span class="o">{</span>
		<span class="n">doChecklist</span><span class="o">();</span>
	<span class="o">}</span>
	
	<span class="kd">public</span> <span class="kd">final</span> <span class="kt">void</span> <span class="nf">doChecklist</span><span class="o">()</span> <span class="o">{</span>
		
		<span class="kt">boolean</span> <span class="n">checklistOK</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
		
		<span class="c1">// Call before Checklist hook</span>
		<span class="n">beforeChecklist</span><span class="o">();</span>
		
		<span class="c1">// Call mandatory checks</span>
		<span class="n">checklistOK</span> <span class="o">=</span> <span class="n">checkControls</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">checkGearStatus</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">checkFuel</span><span class="o">();</span>
		
		<span class="c1">// Call success / fail checklist hook</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">checklistOK</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">checklistSuccessful</span><span class="o">();</span>
		<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
			<span class="n">checklistFailed</span><span class="o">();</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">patterns.verhaltensmuster.template</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CessnaChecklist</span> <span class="kd">extends</span> <span class="n">AirplaneChecklist</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">checkControls</span><span class="o">()</span> <span class="o">{</span>
		<span class="kt">boolean</span> <span class="n">check</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
		<span class="c1">// Execute specific controls checks</span>
		<span class="c1">// ...</span>
		<span class="k">return</span> <span class="n">check</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">checkGearStatus</span><span class="o">()</span> <span class="o">{</span>
		<span class="kt">boolean</span> <span class="n">check</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
		<span class="c1">// Execute specific gear checks</span>
		<span class="c1">// ...</span>
		<span class="k">return</span> <span class="n">check</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">checkFuel</span><span class="o">()</span> <span class="o">{</span>
		<span class="kt">boolean</span> <span class="n">check</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
		<span class="c1">// Execute specific fuel checks</span>
		<span class="c1">// ...</span>
		<span class="k">return</span> <span class="n">check</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">checklistSuccessful</span><span class="o">()</span> <span class="o">{</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Cessna is checked and ready!&quot;</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">checklistFailed</span><span class="o">()</span> <span class="o">{</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;There&#39;s something wrong with your Cessna!&quot;</span><span class="o">);</span>
	<span class="o">}</span>	
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">patterns.verhaltensmuster.template</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * A Simple Template Pattern Example</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TemplatePatternExample</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">CessnaChecklist</span> <span class="n">cessnaChecklist</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CessnaChecklist</span><span class="o">();</span>
	<span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<span id="document-patterns/behavior-patterns/MVC"></span><div class="section" id="todo-mvc-s-1152">
<h3>1.4. TODO: MVC (S.1152)<a class="headerlink" href="#todo-mvc-s-1152" title="Permalink to this headline">¶</a></h3>
<p>Eine bestehende Klasse wird von einer Wrapper-Klasse umhült und erweitert. Grundlage dabei ist ein gemeinsamer Basistyp oder Interface. Eine best. Methode wird dabei erst vom Wrapper aufgerufen und dann vom «gewrappten» Objekt.</p>
<div class="section" id="vorteile">
<h4>1.4.1. Vorteile<a class="headerlink" href="#vorteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Transparent zusätzliche Funktionalität ohne Vererbung</li>
<li>Hintereinanderschaltung mehrerer Decorators möglich</li>
<li>Fexibilität: Zu dekorierende Klasse nicht festgelegt, da nur gegen gemeinsames Interface programmiert wird =&gt; Wrapper können für mehrere verschiedene Klassen genutzt werden.</li>
<li>Vereinfachung von Vererbungshierarchien (im Gegensatz zu Vererbung)</li>
</ul>
</div>
<div class="section" id="nachteile">
<h4>1.4.2. Nachteile<a class="headerlink" href="#nachteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Gemeinsamer Basistyp benötigt</li>
<li>Fehlende Kontrolle über Einsatz von Entwickler (z.B. mehrfache Hintereinanderschaltung, sinnvoll?)</li>
<li>Zugriff auf Spezialisierungen schwieriger möglich</li>
<li>Implementierungsaufwand</li>
</ul>
</div>
</div>
<span id="document-patterns/behavior-patterns/command"></span><div class="section" id="todo-command-s-1134">
<h3>1.5. TODO: Command (S.1134)<a class="headerlink" href="#todo-command-s-1134" title="Permalink to this headline">¶</a></h3>
<p>Eine bestehende Klasse wird von einer Wrapper-Klasse umhült und erweitert. Grundlage dabei ist ein gemeinsamer Basistyp oder Interface. Eine best. Methode wird dabei erst vom Wrapper aufgerufen und dann vom «gewrappten» Objekt.</p>
<div class="section" id="vorteile">
<h4>1.5.1. Vorteile<a class="headerlink" href="#vorteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Transparent zusätzliche Funktionalität ohne Vererbung</li>
<li>Hintereinanderschaltung mehrerer Decorators möglich</li>
<li>Fexibilität: Zu dekorierende Klasse nicht festgelegt, da nur gegen gemeinsames Interface programmiert wird =&gt; Wrapper können für mehrere verschiedene Klassen genutzt werden.</li>
<li>Vereinfachung von Vererbungshierarchien (im Gegensatz zu Vererbung)</li>
</ul>
</div>
<div class="section" id="nachteile">
<h4>1.5.2. Nachteile<a class="headerlink" href="#nachteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Gemeinsamer Basistyp benötigt</li>
<li>Fehlende Kontrolle über Einsatz von Entwickler (z.B. mehrfache Hintereinanderschaltung, sinnvoll?)</li>
<li>Zugriff auf Spezialisierungen schwieriger möglich</li>
<li>Implementierungsaufwand</li>
</ul>
</div>
</div>
<span id="document-patterns/behavior-patterns/observer"></span><div class="section" id="todo-observer-s-1144">
<h3>1.6. TODO: Observer (S.1144)<a class="headerlink" href="#todo-observer-s-1144" title="Permalink to this headline">¶</a></h3>
<p>Eine bestehende Klasse wird von einer Wrapper-Klasse umhült und erweitert. Grundlage dabei ist ein gemeinsamer Basistyp oder Interface. Eine best. Methode wird dabei erst vom Wrapper aufgerufen und dann vom «gewrappten» Objekt.</p>
<div class="section" id="vorteile">
<h4>1.6.1. Vorteile<a class="headerlink" href="#vorteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Transparent zusätzliche Funktionalität ohne Vererbung</li>
<li>Hintereinanderschaltung mehrerer Decorators möglich</li>
<li>Fexibilität: Zu dekorierende Klasse nicht festgelegt, da nur gegen gemeinsames Interface programmiert wird =&gt; Wrapper können für mehrere verschiedene Klassen genutzt werden.</li>
<li>Vereinfachung von Vererbungshierarchien (im Gegensatz zu Vererbung)</li>
</ul>
</div>
<div class="section" id="nachteile">
<h4>1.6.2. Nachteile<a class="headerlink" href="#nachteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Gemeinsamer Basistyp benötigt</li>
<li>Fehlende Kontrolle über Einsatz von Entwickler (z.B. mehrfache Hintereinanderschaltung, sinnvoll?)</li>
<li>Zugriff auf Spezialisierungen schwieriger möglich</li>
<li>Implementierungsaufwand</li>
</ul>
</div>
</div>
<span id="document-patterns/behavior-patterns/proxy"></span><div class="section" id="todo-proxy-s-1142">
<h3>1.7. TODO: Proxy (S.1142)<a class="headerlink" href="#todo-proxy-s-1142" title="Permalink to this headline">¶</a></h3>
<p>Eine bestehende Klasse wird von einer Wrapper-Klasse umhült und erweitert. Grundlage dabei ist ein gemeinsamer Basistyp oder Interface. Eine best. Methode wird dabei erst vom Wrapper aufgerufen und dann vom «gewrappten» Objekt.</p>
<div class="section" id="vorteile">
<h4>1.7.1. Vorteile<a class="headerlink" href="#vorteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Transparent zusätzliche Funktionalität ohne Vererbung</li>
<li>Hintereinanderschaltung mehrerer Decorators möglich</li>
<li>Fexibilität: Zu dekorierende Klasse nicht festgelegt, da nur gegen gemeinsames Interface programmiert wird =&gt; Wrapper können für mehrere verschiedene Klassen genutzt werden.</li>
<li>Vereinfachung von Vererbungshierarchien (im Gegensatz zu Vererbung)</li>
</ul>
</div>
<div class="section" id="nachteile">
<h4>1.7.2. Nachteile<a class="headerlink" href="#nachteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Gemeinsamer Basistyp benötigt</li>
<li>Fehlende Kontrolle über Einsatz von Entwickler (z.B. mehrfache Hintereinanderschaltung, sinnvoll?)</li>
<li>Zugriff auf Spezialisierungen schwieriger möglich</li>
<li>Implementierungsaufwand</li>
</ul>
</div>
</div>
<span id="document-patterns/behavior-patterns/strategy"></span><div class="section" id="todo-strategie-s-1127">
<h3>1.8. TODO: Strategie (S.1127)<a class="headerlink" href="#todo-strategie-s-1127" title="Permalink to this headline">¶</a></h3>
<p>Eine bestehende Klasse wird von einer Wrapper-Klasse umhült und erweitert. Grundlage dabei ist ein gemeinsamer Basistyp oder Interface. Eine best. Methode wird dabei erst vom Wrapper aufgerufen und dann vom «gewrappten» Objekt.</p>
<div class="section" id="vorteile">
<h4>1.8.1. Vorteile<a class="headerlink" href="#vorteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Transparent zusätzliche Funktionalität ohne Vererbung</li>
<li>Hintereinanderschaltung mehrerer Decorators möglich</li>
<li>Fexibilität: Zu dekorierende Klasse nicht festgelegt, da nur gegen gemeinsames Interface programmiert wird =&gt; Wrapper können für mehrere verschiedene Klassen genutzt werden.</li>
<li>Vereinfachung von Vererbungshierarchien (im Gegensatz zu Vererbung)</li>
</ul>
</div>
<div class="section" id="nachteile">
<h4>1.8.2. Nachteile<a class="headerlink" href="#nachteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Gemeinsamer Basistyp benötigt</li>
<li>Fehlende Kontrolle über Einsatz von Entwickler (z.B. mehrfache Hintereinanderschaltung, sinnvoll?)</li>
<li>Zugriff auf Spezialisierungen schwieriger möglich</li>
<li>Implementierungsaufwand</li>
</ul>
</div>
</div>
<span id="document-patterns/erzeugungsmuster/erbauer"></span><div class="section" id="erbauer-builder">
<h3>1.9. Erbauer (Builder)<a class="headerlink" href="#erbauer-builder" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Ebenfalls eine «Konfigurationsmethode»</li>
<li>Unterschied zu <code class="docutils literal"><span class="pre">`Fabrikmethode`</span></code>: Es wird eine Instanz des Builders (innere statische Klasse von Produkt) erstellt, die durch gekettete Aufrufe von Konfigurationsmethoden konfiguriert werden kann.</li>
<li>Dem Produkt wird anschliessend die Instanz des Builders als Konfiguration übergeben.</li>
</ul>
<div class="line-block">
<div class="line"><strong>Vorteile</strong></div>
<div class="line">+ Lesbarkeit und Vereinfacung</div>
<div class="line">+ Konstruktionssicherheit</div>
<div class="line">+ Unterstützung optionaler Attribute</div>
<div class="line">- Komplexer</div>
<div class="line"><br /></div>
</div>
<div class="section" id="beispiel">
<h4>1.9.1. Beispiel<a class="headerlink" href="#beispiel" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">package</span> <span class="n">patterns</span><span class="o">.</span><span class="n">erzeugungsmuster</span><span class="o">.</span><span class="n">erbauer</span><span class="p">;</span>

<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Vehicle</span> <span class="n">Class</span> <span class="p">(</span><span class="n">Construction</span> <span class="n">Pattern</span><span class="p">)</span>
 <span class="o">*/</span>
<span class="n">public</span> <span class="k">class</span> <span class="nc">Vehicle</span> <span class="p">{</span>

    <span class="n">private</span> <span class="n">String</span> <span class="nb">type</span><span class="p">,</span> <span class="n">color</span><span class="p">;</span>
    <span class="n">private</span> <span class="nb">int</span> <span class="n">nWheels</span><span class="p">;</span>
    <span class="n">private</span> <span class="n">boolean</span> <span class="n">hasMotor</span><span class="p">;</span>
    <span class="n">private</span> <span class="nb">float</span> <span class="n">maxSpeed</span><span class="p">;</span>

    <span class="o">/**</span>
     <span class="o">*</span> <span class="n">Called</span> <span class="n">by</span> <span class="n">the</span> <span class="n">Builder</span>
     <span class="o">*/</span>
    <span class="n">private</span> <span class="n">Vehicle</span><span class="p">(</span><span class="n">VehicleBuilder</span> <span class="n">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="o">//</span> <span class="n">Do</span> <span class="n">something</span><span class="o">...</span>
    <span class="p">}</span>

    <span class="o">/**</span>
     <span class="o">*</span> <span class="n">Vehicle</span> <span class="n">Builder</span>
     <span class="o">*/</span>
    <span class="n">public</span> <span class="n">static</span> <span class="n">final</span> <span class="k">class</span> <span class="nc">VehicleBuilder</span> <span class="p">{</span>

        <span class="n">private</span> <span class="nb">int</span> <span class="n">nWheels</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
        <span class="n">private</span> <span class="nb">int</span> <span class="n">nDoors</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

        <span class="n">public</span> <span class="n">VehicleBuilder</span> <span class="n">twoWheeler</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">this</span><span class="o">.</span><span class="n">nWheels</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
            <span class="k">return</span> <span class="n">this</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">public</span> <span class="n">VehicleBuilder</span> <span class="n">fourWheeler</span><span class="p">()</span> <span class="p">{</span>
            <span class="n">this</span><span class="o">.</span><span class="n">nWheels</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
            <span class="k">return</span> <span class="n">this</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">public</span> <span class="n">VehicleBuilder</span> <span class="n">numDoors</span><span class="p">(</span><span class="nb">int</span> <span class="n">nDoors</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">this</span><span class="o">.</span><span class="n">nDoors</span> <span class="o">=</span> <span class="n">nDoors</span><span class="p">;</span>
            <span class="k">return</span> <span class="n">this</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">public</span> <span class="n">Vehicle</span> <span class="n">create</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">new</span> <span class="n">Vehicle</span><span class="p">(</span><span class="n">this</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">package</span> <span class="n">patterns</span><span class="o">.</span><span class="n">erzeugungsmuster</span><span class="o">.</span><span class="n">erbauer</span><span class="p">;</span>


<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Created</span> <span class="n">by</span> <span class="n">samuelblattner</span> <span class="n">on</span> <span class="mi">20</span><span class="o">/</span><span class="mi">09</span><span class="o">/</span><span class="mf">16.</span>
 <span class="o">*/</span>
<span class="n">public</span> <span class="k">class</span> <span class="nc">Main</span> <span class="p">{</span>

    <span class="n">public</span> <span class="n">static</span> <span class="n">void</span> <span class="n">main</span><span class="p">(</span><span class="n">String</span> <span class="n">args</span><span class="p">[])</span> <span class="p">{</span>
        <span class="n">Vehicle</span> <span class="n">myCar</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Vehicle</span><span class="o">.</span><span class="n">VehicleBuilder</span><span class="p">()</span><span class="o">.</span><span class="n">fourWheeler</span><span class="p">()</span><span class="o">.</span><span class="n">numDoors</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">create</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<span id="document-patterns/erzeugungsmuster/erzeugungsmethode"></span><div class="section" id="erzeugungsmethode">
<h3>1.10. Erzeugungsmethode<a class="headerlink" href="#erzeugungsmethode" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Analog zu Bestellung in Restaurant</li>
<li>Statische Produktionsmethode damit komplizierter Konstruktor nicht von aussen aufgerufen werden muss.</li>
<li>Nur private Konstruktoren!</li>
</ul>
<div class="line-block">
<div class="line"><strong>Vorteile</strong></div>
<div class="line">+ Lesbarkeit, sprechende Konstruktoren</div>
<div class="line"><br /></div>
</div>
<div class="section" id="beispiel">
<h4>1.10.1. Beispiel<a class="headerlink" href="#beispiel" title="Permalink to this headline">¶</a></h4>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">patterns.erzeugungsmuster.erzeugungsmethode</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Vehicle Class (Construction Pattern)</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Vehicle</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="n">type</span><span class="o">,</span> <span class="n">color</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">nWheels</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">hasMotor</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">float</span> <span class="n">maxSpeed</span><span class="o">;</span>

    <span class="cm">/**</span>
<span class="cm">     * This constructor is too complicated for mortals, wrap it in two literal and easy constructors</span>
<span class="cm">     */</span>
    <span class="kd">private</span> <span class="nf">Vehicle</span> <span class="o">(</span><span class="n">String</span> <span class="n">type</span><span class="o">,</span> <span class="n">String</span> <span class="n">color</span><span class="o">,</span> <span class="kt">int</span> <span class="n">nWheels</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">hasMotor</span><span class="o">,</span> <span class="kt">float</span> <span class="n">maxSpeed</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Do something...</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Now, this is much easier</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Vehicle</span> <span class="nf">createCar</span><span class="o">(</span><span class="n">String</span> <span class="n">color</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Vehicle</span><span class="o">(</span><span class="s">&quot;Car&quot;</span><span class="o">,</span> <span class="n">color</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="kc">true</span><span class="o">,</span> <span class="mf">200.0f</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * And this, too</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Vehicle</span> <span class="nf">createBike</span><span class="o">(</span><span class="n">String</span> <span class="n">color</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Vehicle</span><span class="o">(</span><span class="s">&quot;Bike&quot;</span><span class="o">,</span> <span class="n">color</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="kc">false</span><span class="o">,</span> <span class="mf">60.0f</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<span id="document-patterns/erzeugungsmuster/fabrikmethode"></span><div class="section" id="fabrikmethode-factory">
<h3>1.11. Fabrikmethode (Factory)<a class="headerlink" href="#fabrikmethode-factory" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Ebenfalls eine «Konfigurationsmethode»</li>
<li>Unterschied zu <code class="docutils literal"><span class="pre">`Erzeugungsmethode`</span></code>: Den Job der Konstruktion übernimmt eine separate Fabrik-Klasse</li>
<li>Produkte müssen entweder gemeinsames Interface implementieren, gemeinsame abstrakte Klasse erben oder beides!</li>
</ul>
<div class="line-block">
<div class="line"><strong>Vorteile</strong></div>
<div class="line">+ Lesbarkeit</div>
<div class="line">+ Abstraktion / Kapselung</div>
<div class="line">+ Konstruktionssicherheit</div>
<div class="line">- Mehraufwand</div>
<div class="line">- Komplexer</div>
<div class="line"><br /></div>
</div>
<div class="section" id="beispiel">
<h4>1.11.1. Beispiel<a class="headerlink" href="#beispiel" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">package</span> <span class="n">patterns</span><span class="o">.</span><span class="n">erzeugungsmuster</span><span class="o">.</span><span class="n">fabrikmethode</span><span class="p">;</span>

<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Interface</span> <span class="n">Vehicle</span>
 <span class="o">*/</span>
<span class="n">public</span> <span class="n">interface</span> <span class="n">Vehicle</span> <span class="p">{</span>

    <span class="n">public</span> <span class="nb">int</span> <span class="n">getNumWheels</span><span class="p">();</span>
    <span class="n">public</span> <span class="n">void</span> <span class="n">setSpeed</span><span class="p">(</span><span class="nb">float</span> <span class="n">speed</span><span class="p">);</span>

<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">package</span> <span class="n">patterns</span><span class="o">.</span><span class="n">erzeugungsmuster</span><span class="o">.</span><span class="n">fabrikmethode</span><span class="p">;</span>

<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Vehicle</span> <span class="n">Factory</span>
 <span class="o">*/</span>
<span class="n">public</span> <span class="k">class</span> <span class="nc">VehicleFactory</span> <span class="p">{</span>

    <span class="n">private</span> <span class="n">enum</span> <span class="n">VEHICLE_TYPE</span> <span class="p">{</span>
        <span class="n">CAR</span><span class="p">,</span>
        <span class="n">BIKE</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="o">/**</span>
     <span class="o">*</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">Factory</span> <span class="n">method</span>
     <span class="o">*/</span>
    <span class="n">public</span> <span class="n">static</span> <span class="n">Vehicle</span> <span class="n">createVehicle</span><span class="p">(</span><span class="n">final</span> <span class="n">VEHICLE_TYPE</span> <span class="nb">type</span><span class="p">,</span> <span class="n">final</span> <span class="n">String</span> <span class="n">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">switch</span> <span class="p">(</span><span class="nb">type</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">case</span> <span class="n">CAR</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">new</span> <span class="n">Car</span><span class="p">(</span><span class="s2">&quot;My cool car&quot;</span><span class="p">);</span>
            <span class="n">case</span> <span class="n">BIKE</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">new</span> <span class="n">Bike</span><span class="p">(</span><span class="s2">&quot;My cool bike&quot;</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">throw</span> <span class="n">new</span> <span class="n">IllegalStateException</span><span class="p">(</span>
                <span class="n">String</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;Unexpected Vehicle type </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<span id="document-patterns/erzeugungsmuster/prototype"></span><div class="section" id="prototyp-s-1102">
<h3>1.12. Prototyp (S.1102)<a class="headerlink" href="#prototyp-s-1102" title="Permalink to this headline">¶</a></h3>
<p>Vereinfacht die Vervielfältigung von bestehenden Objekten mit einer makeCopy-Methode. Dazu wird eine Abstrakte Klasse definiert mit der abstrakten Methode makeCopy(). Die Anpassungen, um das kopierte Objekt zu individualisieren werden über Setter-Methoden vorgenommen.</p>
<div class="section" id="beispiel">
<h4>1.12.1. Beispiel<a class="headerlink" href="#beispiel" title="Permalink to this headline">¶</a></h4>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">patterns.erzeugungsmuster.prototype</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Abstract Prototype Class</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">AbstractGraphicsElement</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">abstract</span> <span class="kt">void</span> <span class="nf">makeCopy</span><span class="o">();</span>

<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">patterns.erzeugungsmuster.prototype</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Created by samuelblattner on 25/09/16.</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LineFigure</span> <span class="kd">extends</span> <span class="n">AbstractGraphicsElement</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">makeCopy</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// Do copy stuff ...</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<span id="document-patterns/erzeugungsmuster/singleton"></span><div class="section" id="singleton">
<h3>1.13. Singleton<a class="headerlink" href="#singleton" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Max. 1 Instanz soll existieren</li>
<li>Z.B. zentrale Registrierung oder Ressourcen-Handler</li>
<li>Privater Konstruktor</li>
</ul>
<div class="line-block">
<div class="line"><strong>Vorteile</strong></div>
<div class="line">+ Zentraler Zugriffspunkt</div>
<div class="line">+ Strukturierung</div>
<div class="line">- Mehrer Instanzen bei mehreren ClassLoadern möglich (z.B. Webserver)</div>
<div class="line"><br /></div>
<div class="line"><strong>Hinweis</strong></div>
<div class="line">Benutzen von Lazy-Instance (Erzeugung Instanz erst bei Gebrauch) ist nicht zu empfehlen, da die getInstance()-Methode dann synchronized sein müsste und einen potentiellen Flaschenhals darstellt. Deshalb: Lieber bereits zur Ladezeit eine Instanz erzeugen.</div>
<div class="line"><br /></div>
</div>
<div class="section" id="beispiel">
<h4>1.13.1. Beispiel<a class="headerlink" href="#beispiel" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">package</span> <span class="n">patterns</span><span class="o">.</span><span class="n">erzeugungsmuster</span><span class="o">.</span><span class="n">singleton</span><span class="p">;</span>

<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Non</span><span class="o">-</span><span class="n">Lazy</span> <span class="n">Singleton</span>
 <span class="o">*/</span>
<span class="n">public</span> <span class="n">final</span> <span class="k">class</span> <span class="nc">Singleton</span> <span class="p">{</span>

    <span class="n">private</span> <span class="n">static</span> <span class="n">final</span> <span class="n">Singleton</span> <span class="n">INSTANCE</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Singleton</span><span class="p">();</span>

    <span class="n">public</span> <span class="n">static</span> <span class="n">Singleton</span> <span class="n">getInstance</span><span class="p">()</span> <span class="p">{</span>

        <span class="k">return</span> <span class="n">INSTANCE</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">private</span> <span class="n">Singleton</span><span class="p">()</span> <span class="p">{</span>

    <span class="p">};</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<span id="document-patterns/structure-patterns/adapter"></span><div class="section" id="adapter">
<h3>1.14. Adapter<a class="headerlink" href="#adapter" title="Permalink to this headline">¶</a></h3>
<p>Eine «Vermittler»-Klasse, die ansonsten inkompatible Elemente verbindet. So müssen bestehende, inkompatible Interfaces nicht extra umgeschrieben werden.</p>
<div class="section" id="vorteile">
<h4>1.14.1. Vorteile<a class="headerlink" href="#vorteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Sicherstellung von Kompatibilität</li>
<li>Keine Änderung des bestehenden Systems</li>
</ul>
</div>
<div class="section" id="nachteile">
<h4>1.14.2. Nachteile<a class="headerlink" href="#nachteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Aufwand durch Delegation</li>
</ul>
</div>
</div>
<span id="document-patterns/structure-patterns/decorator"></span><div class="section" id="decorator-aka-wrapper-s-1111">
<h3>1.15. Decorator (aka «Wrapper») (S.1111)<a class="headerlink" href="#decorator-aka-wrapper-s-1111" title="Permalink to this headline">¶</a></h3>
<p>Eine bestehende Klasse wird von einer Wrapper-Klasse umhült und erweitert. Grundlage dabei ist ein gemeinsamer Basistyp oder Interface. Eine best. Methode wird dabei erst vom Wrapper aufgerufen und dann vom «gewrappten» Objekt.</p>
<div class="section" id="vorteile">
<h4>1.15.1. Vorteile<a class="headerlink" href="#vorteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Transparent zusätzliche Funktionalität ohne Vererbung</li>
<li>Hintereinanderschaltung mehrerer Decorators möglich</li>
<li>Fexibilität: Zu dekorierende Klasse nicht festgelegt, da nur gegen gemeinsames Interface programmiert wird =&gt; Wrapper können für mehrere verschiedene Klassen genutzt werden.</li>
<li>Vereinfachung von Vererbungshierarchien (im Gegensatz zu Vererbung)</li>
</ul>
</div>
<div class="section" id="nachteile">
<h4>1.15.2. Nachteile<a class="headerlink" href="#nachteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Gemeinsamer Basistyp benötigt</li>
<li>Fehlende Kontrolle über Einsatz von Entwickler (z.B. mehrfache Hintereinanderschaltung, sinnvoll?)</li>
<li>Zugriff auf Spezialisierungen schwieriger möglich</li>
<li>Implementierungsaufwand</li>
</ul>
</div>
</div>
<span id="document-patterns/structure-patterns/facade"></span><div class="section" id="fassade">
<h3>1.16. Fassade<a class="headerlink" href="#fassade" title="Permalink to this headline">¶</a></h3>
<p>Fassade kapselt und versteckt Komplexität eines Subsystems. «High-Level Interface».</p>
<div class="section" id="vorteile">
<h4>1.16.1. Vorteile<a class="headerlink" href="#vorteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Vereinfachung API</li>
<li>Trennung zwischen Clients un Subsystem reduziert Komplexität, erhöht lose Kopplung.</li>
<li>Zentralisierung von Funktionalität und Updates: Transaktionsverwaltung möglich, Bündelung</li>
</ul>
</div>
<div class="section" id="nachteile">
<h4>1.16.2. Nachteile<a class="headerlink" href="#nachteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Gefahr eines breiten Interface / API, zu viele Methoden</li>
<li>Keine Nutzungsgarantie: Clients könnten weiterhin direkt auf Subsystemklassen zugreifen.</li>
<li>Mehr Indirektionen: Weiterleitungen von Methodenaufrufen («Indirektionen») werden eingeführt.</li>
</ul>
</div>
</div>
<span id="document-patterns/structure-patterns/kompositum"></span><div class="section" id="todo-kompositum-s-1114">
<h3>1.17. TODO: Kompositum (S.1114)<a class="headerlink" href="#todo-kompositum-s-1114" title="Permalink to this headline">¶</a></h3>
<p>Eine bestehende Klasse wird von einer Wrapper-Klasse umhült und erweitert. Grundlage dabei ist ein gemeinsamer Basistyp oder Interface. Eine best. Methode wird dabei erst vom Wrapper aufgerufen und dann vom «gewrappten» Objekt.</p>
<div class="section" id="vorteile">
<h4>1.17.1. Vorteile<a class="headerlink" href="#vorteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Transparent zusätzliche Funktionalität ohne Vererbung</li>
<li>Hintereinanderschaltung mehrerer Decorators möglich</li>
<li>Fexibilität: Zu dekorierende Klasse nicht festgelegt, da nur gegen gemeinsames Interface programmiert wird =&gt; Wrapper können für mehrere verschiedene Klassen genutzt werden.</li>
<li>Vereinfachung von Vererbungshierarchien (im Gegensatz zu Vererbung)</li>
</ul>
</div>
<div class="section" id="nachteile">
<h4>1.17.2. Nachteile<a class="headerlink" href="#nachteile" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Gemeinsamer Basistyp benötigt</li>
<li>Fehlende Kontrolle über Einsatz von Entwickler (z.B. mehrfache Hintereinanderschaltung, sinnvoll?)</li>
<li>Zugriff auf Spezialisierungen schwieriger möglich</li>
<li>Implementierungsaufwand</li>
</ul>
</div>
</div>
</div>
</div>
<span id="document-threading/index"></span><div class="section" id="threading">
<h2>2. Threading<a class="headerlink" href="#threading" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-threading/alternator/alternator"></span><div class="section" id="alternator">
<h3>2.1. Alternator<a class="headerlink" href="#alternator" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Threads mit alternierender Ausführung</li>
<li>Alternierung über ein zentrales Lock-Objekt geregelt (boolean[])</li>
</ul>
<div class="section" id="beispiel">
<h4>2.1.1. Beispiel<a class="headerlink" href="#beispiel" title="Permalink to this headline">¶</a></h4>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">threading.alternator</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Alternator example</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Alternator</span> <span class="kd">implements</span> <span class="n">Runnable</span> <span class="o">{</span>

    <span class="c1">// This will be a reference to an external lock</span>
    <span class="kd">private</span> <span class="kt">boolean</span><span class="o">[]</span> <span class="n">chosen_alternator_lock</span><span class="o">;</span>

    <span class="c1">// This alternator&#39;s ID (true or false)</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">alternatorID</span><span class="o">;</span>

    <span class="c1">// This alternator&#39;s name</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>


    <span class="cm">/**</span>
<span class="cm">     * Constructor</span>
<span class="cm">     */</span>
    <span class="kd">private</span> <span class="nf">Alternator</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">alternatorID</span><span class="o">,</span> <span class="kt">boolean</span><span class="o">[]</span> <span class="n">chosen_alternator_lock</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">alternatorID</span> <span class="o">=</span> <span class="n">alternatorID</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">chosen_alternator_lock</span> <span class="o">=</span> <span class="n">chosen_alternator_lock</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Here&#39;s the actual work done</span>
<span class="cm">     */</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">printMessage</span><span class="o">()</span> <span class="o">{</span>


        <span class="c1">// Check if this alternator can enter the critical zone</span>
        <span class="kd">synchronized</span> <span class="o">(</span><span class="n">chosen_alternator_lock</span><span class="o">)</span> <span class="o">{</span>

            <span class="c1">// Check if it&#39;s this alternator&#39;s turn, otherwise wait and give way</span>
            <span class="c1">// for the other alternator.</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="k">while</span> <span class="o">(</span><span class="n">chosen_alternator_lock</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">!=</span> <span class="n">alternatorID</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">this</span><span class="o">.</span><span class="na">chosen_alternator_lock</span><span class="o">.</span><span class="na">wait</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Hello from Alternator ID %s&quot;</span><span class="o">,</span> <span class="n">name</span><span class="o">));</span>
            <span class="n">chosen_alternator_lock</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="o">!</span><span class="n">alternatorID</span><span class="o">;</span>
            <span class="n">chosen_alternator_lock</span><span class="o">.</span><span class="na">notifyAll</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Keep run method as small as possible</span>
<span class="cm">     */</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">printMessage</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>
        <span class="kt">boolean</span><span class="o">[]</span> <span class="n">chosen_alternator_lock</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
        <span class="n">chosen_alternator_lock</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="n">Thread</span> <span class="n">alternator1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="k">new</span> <span class="n">Alternator</span><span class="o">(</span><span class="s">&quot;First Alternator&quot;</span><span class="o">,</span> <span class="kc">true</span><span class="o">,</span> <span class="n">chosen_alternator_lock</span><span class="o">));</span>
        <span class="n">Thread</span> <span class="n">alternator2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="k">new</span> <span class="n">Alternator</span><span class="o">(</span><span class="s">&quot;Second Alternator&quot;</span><span class="o">,</span> <span class="kc">false</span><span class="o">,</span> <span class="n">chosen_alternator_lock</span><span class="o">));</span>
        <span class="n">alternator1</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">alternator2</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<span id="document-threading/consumer-producer/consumer-producer"></span><div class="section" id="queued-consumer-producer">
<h3>2.2. Queued Consumer Producer<a class="headerlink" href="#queued-consumer-producer" title="Permalink to this headline">¶</a></h3>
<div class="section" id="beispiel">
<h4>2.2.1. Beispiel<a class="headerlink" href="#beispiel" title="Permalink to this headline">¶</a></h4>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">threading.consumer_producer</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Created by samuelblattner on 24/09/16.</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Queue</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">Integer</span><span class="o">[]</span> <span class="n">queue</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">stackPointer</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">dequeuePointer</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Queue</span><span class="o">(</span><span class="kt">int</span> <span class="n">size</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Integer</span><span class="o">[</span><span class="n">size</span><span class="o">];</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">queue</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">queue</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">synchronized</span> <span class="kt">boolean</span> <span class="nf">enqueue</span><span class="o">(</span><span class="n">Integer</span> <span class="n">newElement</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">InterruptedException</span> <span class="o">{</span>

        <span class="k">while</span><span class="o">(</span><span class="n">queue</span><span class="o">[</span><span class="n">stackPointer</span><span class="o">]</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;---&gt; QUEUE: Enqueuing suspended!&quot;</span><span class="o">);</span>
            <span class="k">this</span><span class="o">.</span><span class="na">wait</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="n">queue</span><span class="o">[</span><span class="n">stackPointer</span><span class="o">]</span> <span class="o">=</span> <span class="n">newElement</span><span class="o">;</span>
        <span class="n">stackPointer</span><span class="o">++;</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">stackPointer</span> <span class="o">&gt;=</span> <span class="n">queue</span><span class="o">.</span><span class="na">length</span><span class="o">)</span> <span class="o">{</span>
           <span class="n">stackPointer</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">this</span><span class="o">.</span><span class="na">notifyAll</span><span class="o">();</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">synchronized</span> <span class="n">Integer</span> <span class="nf">dequeue</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">InterruptedException</span> <span class="o">{</span>

        <span class="k">while</span> <span class="o">(</span><span class="n">queue</span><span class="o">[</span><span class="n">dequeuePointer</span><span class="o">]</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;---&gt; QUEUE: Dequeuing suspended!&quot;</span><span class="o">);</span>
            <span class="k">this</span><span class="o">.</span><span class="na">wait</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="n">Integer</span> <span class="n">returnElement</span> <span class="o">=</span> <span class="n">queue</span><span class="o">[</span><span class="n">dequeuePointer</span><span class="o">];</span>
        <span class="n">queue</span><span class="o">[</span><span class="n">dequeuePointer</span><span class="o">]</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

        <span class="n">dequeuePointer</span><span class="o">++;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">dequeuePointer</span> <span class="o">&gt;=</span> <span class="n">queue</span><span class="o">.</span><span class="na">length</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">dequeuePointer</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">this</span><span class="o">.</span><span class="na">notifyAll</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">returnElement</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">threading.consumer_producer</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Random</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Created by samuelblattner on 21/09/16.</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Producer</span> <span class="kd">implements</span> <span class="n">Runnable</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">Queue</span> <span class="n">queue</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Random</span> <span class="n">randomizer</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Producer</span><span class="o">(</span><span class="n">Queue</span> <span class="n">queue</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">queue</span> <span class="o">=</span> <span class="n">queue</span><span class="o">;</span>
        <span class="n">randomizer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>

        <span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">try</span> <span class="o">{</span>

                <span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">2000</span><span class="o">);</span>
                <span class="kt">int</span> <span class="n">rndNumber</span> <span class="o">=</span> <span class="n">randomizer</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>

                <span class="n">queue</span><span class="o">.</span><span class="na">enqueue</span><span class="o">(</span><span class="n">rndNumber</span><span class="o">);</span>

                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;PRODUCER: Produced %d\n&quot;</span><span class="o">,</span> <span class="n">rndNumber</span><span class="o">);</span>

            <span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="n">InterruptedException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">threading.consumer_producer</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Created by samuelblattner on 21/09/16.</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Consumer</span> <span class="kd">implements</span> <span class="n">Runnable</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">Queue</span> <span class="n">queue</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Consumer</span><span class="o">(</span><span class="n">Queue</span> <span class="n">queue</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">queue</span> <span class="o">=</span> <span class="n">queue</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">try</span> <span class="o">{</span>

                <span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">4000</span><span class="o">);</span>
                <span class="n">Integer</span> <span class="n">dequeuedNumber</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">dequeue</span><span class="o">();</span>

                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;CONSUMER: Read number %d&quot;</span><span class="o">,</span> <span class="n">dequeuedNumber</span><span class="o">));</span>

            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">InterruptedException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">threading.consumer_producer</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Created by samuelblattner on 24/09/16.</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Runner</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>
        <span class="n">Queue</span> <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Queue</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>

        <span class="n">Thread</span> <span class="n">producer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="k">new</span> <span class="n">Producer</span><span class="o">(</span><span class="n">queue</span><span class="o">));</span>
        <span class="n">Thread</span> <span class="n">consumer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="k">new</span> <span class="n">Consumer</span><span class="o">(</span><span class="n">queue</span><span class="o">));</span>

        <span class="n">producer</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">consumer</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<span id="document-threading/thread-pool/thread-pool"></span><div class="section" id="executor-framework-thread-pools-s-557">
<h3>2.3. Executor Framework (Thread Pools) (S.557)<a class="headerlink" href="#executor-framework-thread-pools-s-557" title="Permalink to this headline">¶</a></h3>
<div class="section" id="callable">
<h4>2.3.1. Callable<a class="headerlink" href="#callable" title="Permalink to this headline">¶</a></h4>
<p>Wie Runnable, aber für einen Rückgabetyp vorgesehen. Interface Callable ist wiefolgt definiert:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Callable</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span>
<span class="o">{</span>
     <span class="n">V</span> <span class="nf">call</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="future-v">
<h4>2.3.2. Future&lt;V&gt;<a class="headerlink" href="#future-v" title="Permalink to this headline">¶</a></h4>
<p>Der ExecutorService liefert beim Hinzufügen eines Runnable oder Callable ein Interface Future&lt;V&gt; zurück, das einerseits
den Status des asynchronen Tasks, als auch später das Resultat enthält (via synchronem .get())</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Future</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span>
<span class="o">{</span>
     <span class="n">V</span> <span class="nf">get</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">InterruptedException</span><span class="o">,</span> <span class="n">ExecutionException</span><span class="o">;</span>
     <span class="n">V</span> <span class="nf">get</span><span class="o">(</span><span class="kt">long</span> <span class="n">timeout</span><span class="o">,</span> <span class="n">TimeUnit</span> <span class="n">unit</span><span class="o">)</span> <span class="kd">throws</span>
            <span class="n">InterruptedExecution</span><span class="o">,</span> <span class="n">ExecutionException</span><span class="o">,</span> <span class="n">TimeoutException</span><span class="o">;</span>
     <span class="kt">boolean</span> <span class="nf">cancel</span> <span class="o">(</span><span class="kt">boolean</span> <span class="n">mayInterruptIfRunning</span><span class="o">);</span>
     <span class="kt">boolean</span> <span class="nf">isCancelled</span><span class="o">();</span>
     <span class="kt">boolean</span> <span class="nf">isDone</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="beispiel">
<h4>2.3.3. Beispiel<a class="headerlink" href="#beispiel" title="Permalink to this headline">¶</a></h4>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">threading.threadpool</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.Callable</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * PrimeSpotter Callable finding prime numbers in a given interval.</span>
<span class="cm"> * @author samuel</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PrimeSpotter</span> <span class="kd">implements</span> <span class="n">Callable</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;&gt;</span> <span class="o">{</span>
	<span class="cm">/** Interval [from, to]. */</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">from</span><span class="o">,</span> <span class="n">to</span><span class="o">;</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Constructor of PrimeSpotter, initializing interval bounds.</span>
<span class="cm">	 * @param fromNumber Start of interval (inclusive)</span>
<span class="cm">	 * @param toNumber End of interval (inclusive)</span>
<span class="cm">	 */</span>
	<span class="kd">public</span> <span class="nf">PrimeSpotter</span><span class="o">(</span><span class="kd">final</span> <span class="kt">int</span> <span class="n">fromNumber</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">toNumber</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">from</span> <span class="o">=</span> <span class="n">fromNumber</span><span class="o">;</span>
		<span class="k">this</span><span class="o">.</span><span class="na">to</span> <span class="o">=</span> <span class="n">toNumber</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Calculates if a given number n is a prime number.</span>
<span class="cm">	 * @param n Number to be examined</span>
<span class="cm">	 * @return boolean</span>
<span class="cm">	 */</span>
	<span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isPrime</span><span class="o">(</span><span class="kd">final</span> <span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">divisor</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
		<span class="kt">int</span> <span class="n">divisions</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="k">while</span> <span class="o">(</span><span class="n">divisor</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="n">divisions</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">n</span> <span class="o">%</span> <span class="n">divisor</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">divisions</span><span class="o">++;</span>
			<span class="o">}</span>
			<span class="n">divisor</span><span class="o">++;</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">divisions</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Runnable method run.</span>
<span class="cm">	 * @return List of results</span>
<span class="cm">	 */</span>
	<span class="kd">public</span> <span class="kd">final</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">call</span><span class="o">()</span> <span class="o">{</span>
		<span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">foundPrimeNumbers</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>

		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">from</span><span class="o">;</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="n">to</span><span class="o">;</span> <span class="n">n</span><span class="o">++)</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">isPrime</span><span class="o">(</span><span class="n">n</span><span class="o">))</span> <span class="o">{</span>
				<span class="n">foundPrimeNumbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">n</span><span class="o">);</span>
			<span class="o">}</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">foundPrimeNumbers</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">threading.threadpool</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.ExecutionException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.ExecutorService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.Executors</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.concurrent.Future</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Main class to calculate prime numbers in a given interval. Provides</span>
<span class="cm"> * a thread pool using the Executor Framework in ordert to allow for</span>
<span class="cm"> * parallel calculation. The inverval is split into sub-intervals where</span>
<span class="cm"> * each is assigned to a free thread.</span>
<span class="cm"> *</span>
<span class="cm"> * @author samuel blattner</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OptimusPrime</span> <span class="o">{</span>
	
	<span class="cm">/** Ask check style how this should make any sense. */</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">NUM_EXPECTED_ARGUMENTS</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
	<span class="cm">/** Thread pool providing threads for prime number calculation. */</span>
	<span class="kd">private</span> <span class="n">ExecutorService</span> <span class="n">threadPool</span><span class="o">;</span>
	<span class="cm">/** Number of threads used for calculation. */</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">numberOfThreads</span><span class="o">;</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Constructor of OptimsPrime. Initializes the thread pool.</span>
<span class="cm">	 * @param newNumberOfThreads Number of threads that should be provided </span>
<span class="cm">	 * to calculate the prime numbers.</span>
<span class="cm">	 */</span>
	<span class="kd">public</span> <span class="nf">OptimusPrime</span><span class="o">(</span><span class="kd">final</span> <span class="kt">int</span> <span class="n">newNumberOfThreads</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">numberOfThreads</span> <span class="o">=</span> <span class="n">newNumberOfThreads</span><span class="o">;</span>
		<span class="n">threadPool</span> <span class="o">=</span> <span class="n">Executors</span><span class="o">.</span><span class="na">newFixedThreadPool</span><span class="o">(</span><span class="n">newNumberOfThreads</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Main task submission routine. Breaks down a given interval [from, to] </span>
<span class="cm">	 * into smaller sub-intervals and assigns them each to a </span>
<span class="cm">	 * PrimeSpotter-Object. All sub-intervals are then calculated using the </span>
<span class="cm">	 * threads provided by the pool.</span>
<span class="cm">	 * </span>
<span class="cm">	 *  @param from Interval start</span>
<span class="cm">	 *  @param to Interval end</span>
<span class="cm">	 *  @return A list of Future-Objects, each holding an ArrayList, </span>
<span class="cm">	 *  containing the prime numbers</span>
<span class="cm">	 */</span>
	<span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Future</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;&gt;&gt;</span> <span class="nf">calculatePrimeNumbers</span><span class="o">(</span>
			<span class="kd">final</span> <span class="kt">int</span> <span class="n">from</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">to</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Size of the sub-intervals</span>
		<span class="kt">int</span> <span class="n">intervalSize</span> <span class="o">=</span> <span class="o">(</span><span class="n">to</span> <span class="o">-</span> <span class="n">from</span><span class="o">)</span> <span class="o">/</span> <span class="n">numberOfThreads</span><span class="o">;</span>
		<span class="c1">// Start number in the current sub-interval</span>
		<span class="kt">int</span> <span class="n">curFrom</span> <span class="o">=</span> <span class="n">from</span><span class="o">;</span>
		<span class="c1">// End number in the current sub-interval</span>
		<span class="kt">int</span> <span class="n">curTo</span> <span class="o">=</span> <span class="n">curFrom</span> <span class="o">+</span> <span class="n">intervalSize</span><span class="o">;</span>
		<span class="c1">// Array of PrimeSpotter-Objects (Callables)</span>
		<span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">PrimeSpotter</span><span class="o">&gt;</span> <span class="n">subTasks</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">PrimeSpotter</span><span class="o">&gt;();</span>
		
		<span class="cm">/** Loop over sub-intervals and create sub-tasks until end reached */</span>
		<span class="k">while</span> <span class="o">(</span><span class="n">curFrom</span> <span class="o">&lt;</span> <span class="n">to</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">subTasks</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">PrimeSpotter</span><span class="o">(</span><span class="n">curFrom</span><span class="o">,</span> <span class="n">curTo</span><span class="o">));</span>
			<span class="n">curFrom</span> <span class="o">+=</span> <span class="n">intervalSize</span><span class="o">;</span> <span class="n">curTo</span> <span class="o">+=</span> <span class="n">intervalSize</span><span class="o">;</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">curTo</span> <span class="o">&gt;</span> <span class="n">to</span><span class="o">)</span> <span class="o">{</span> 
				<span class="n">curTo</span> <span class="o">=</span> <span class="n">to</span><span class="o">;</span> 
				<span class="o">}</span>
		<span class="o">}</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="n">List</span><span class="o">&lt;</span><span class="n">Future</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;&gt;&gt;</span> <span class="n">results</span> <span class="o">=</span> 
					<span class="n">threadPool</span><span class="o">.</span><span class="na">invokeAll</span><span class="o">(</span><span class="n">subTasks</span><span class="o">);</span>
			<span class="n">threadPool</span><span class="o">.</span><span class="na">shutdown</span><span class="o">();</span>
			<span class="k">return</span> <span class="n">results</span><span class="o">;</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">Thread</span><span class="o">.</span><span class="na">currentThread</span><span class="o">().</span><span class="na">interrupt</span><span class="o">();</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Invokes the calculatePrimeNumbers method and unifies its results in one </span>
<span class="cm">	 * single list.</span>
<span class="cm">	 * @param from Start of interva</span>
<span class="cm">	 * @param to End of interval</span>
<span class="cm">	 * @return Unified ArrayList of prime numbers</span>
<span class="cm">	 * @throws InterruptedException</span>
<span class="cm">	 * @throws ExecutionException</span>
<span class="cm">	 */</span>
	<span class="kd">public</span> <span class="kd">final</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">getPrimeNumbers</span><span class="o">(</span>
			<span class="kd">final</span> <span class="kt">int</span> <span class="n">from</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">to</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// A list of future objects for the results</span>
		<span class="n">List</span><span class="o">&lt;</span><span class="n">Future</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;&gt;&gt;</span> <span class="n">primeNumbers</span> <span class="o">=</span> 
				<span class="n">calculatePrimeNumbers</span><span class="o">(</span><span class="n">from</span><span class="o">,</span> <span class="n">to</span><span class="o">);</span>
		<span class="c1">// The unified list, all results of all lists are to be collected in.</span>
		<span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>
		
		<span class="k">for</span> <span class="o">(</span><span class="n">Future</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;&gt;</span> <span class="n">primeSet</span><span class="o">:</span> <span class="n">primeNumbers</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">try</span> <span class="o">{</span>
				<span class="n">result</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">primeSet</span><span class="o">.</span><span class="na">get</span><span class="o">());</span>
			<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="kd">final</span> <span class="n">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
				<span class="c1">// Not going to occur since .get() is blocking until finished.</span>
			<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="kd">final</span> <span class="n">ExecutionException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
				<span class="c1">// Not going to occur</span>
			<span class="o">}</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">result</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * main entry point.</span>
<span class="cm">	 * @param args The args</span>
<span class="cm">	 */</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">from</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">to</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">numThreads</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
		
		<span class="k">if</span> <span class="o">(</span><span class="n">args</span><span class="o">.</span><span class="na">length</span> <span class="o">!=</span> <span class="n">NUM_EXPECTED_ARGUMENTS</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Usage main (int from, int to, int n_threads)&quot;</span><span class="o">);</span>
			<span class="n">System</span><span class="o">.</span><span class="na">exit</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="n">from</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]);</span>
			<span class="n">to</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>
			<span class="n">numThreads</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">2</span><span class="o">]);</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Usage main (int from, int to, int n_threads)&quot;</span><span class="o">);</span>
			<span class="n">System</span><span class="o">.</span><span class="na">exit</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
		<span class="o">}</span>
		
		<span class="c1">// OptimusPrime instance</span>
		<span class="n">OptimusPrime</span> <span class="n">optimusPrime</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OptimusPrime</span><span class="o">(</span><span class="n">numThreads</span><span class="o">);</span>
		<span class="c1">// Measure start time</span>
		<span class="kt">long</span> <span class="n">startTime</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
		<span class="c1">// Calculate prime numbers</span>
		<span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">primeNums</span> <span class="o">=</span> <span class="n">optimusPrime</span><span class="o">.</span><span class="na">getPrimeNumbers</span><span class="o">(</span><span class="n">from</span><span class="o">,</span> <span class="n">to</span><span class="o">);</span>
		<span class="c1">// Measure end time</span>
		<span class="kt">long</span> <span class="n">endTime</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">currentTimeMillis</span><span class="o">();</span>
		
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span>
				<span class="s">&quot;Calculation of %d prime nums with %d threads took %d ms.\n\n&quot;</span><span class="o">,</span> 
						<span class="n">primeNums</span><span class="o">.</span><span class="na">size</span><span class="o">(),</span> <span class="n">numThreads</span><span class="o">,</span> <span class="o">(</span><span class="n">endTime</span> <span class="o">-</span> <span class="n">startTime</span><span class="o">));</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Result:&quot;</span><span class="o">);</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">primeNums</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<span id="document-advanced-techniques/index"></span><div class="section" id="advanced-techniques">
<h2>3. Advanced Techniques<a class="headerlink" href="#advanced-techniques" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<span id="document-advanced-techniques/annotation/annoations"></span><div class="section" id="annotations">
<h3>3.1. Annotations<a class="headerlink" href="#annotations" title="Permalink to this headline">¶</a></h3>
<p>Code-Decorators für Compiler.</p>
<div class="section" id="target">
<h4>3.1.1. Target<a class="headerlink" href="#target" title="Permalink to this headline">¶</a></h4>
<p>Mit dem Decorator &#64;Target (ElementType.TYPE) wird angegeben, auf welche Objekte die Annotation angewendet werden kann. ElementType.TYPE bedeutet alle Objekte.
Weitere Typen: ANNOTATION_TYPE(Annotations), CONSTRUCTOR, METHOD, FIELD, PARAMETER und PACKAGE.</p>
</div>
<div class="section" id="retention-policies">
<h4>3.1.2. Retention Policies<a class="headerlink" href="#retention-policies" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>SOURCE</dt>
<dd>Annotation ist nur im Sourcecode vorhanden, wird nicht in Bytecode (.class-Datei) übernommen.</dd>
<dt>CLASS</dt>
<dd>Annotation wird in Bytecode übernommen, stehen zur Laufzeit aber nicht mehr zur Verfügung (default).</dd>
<dt>RUNTIME</dt>
<dd>Annotations stehen auch zur Laufzeit zur Verfügung (über Reflection)</dd>
</dl>
</div>
<div class="section" id="beispiel-1">
<h4>3.1.3. Beispiel 1<a class="headerlink" href="#beispiel-1" title="Permalink to this headline">¶</a></h4>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">advanced_techniques.annotations</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.lang.annotation.ElementType</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.Retention</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.RetentionPolicy</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.Target</span><span class="o">;</span>

<span class="nd">@Target</span><span class="o">(</span><span class="n">ElementType</span><span class="o">.</span><span class="na">TYPE</span><span class="o">)</span>
<span class="nd">@Retention</span><span class="o">(</span><span class="n">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>

<span class="cm">/**</span>
<span class="cm"> * Example of an Annotation</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="nd">@interface</span> <span class="n">MyAnnotation</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">name</span><span class="o">()</span> <span class="k">default</span> <span class="s">&quot;MyAnnotation&quot;</span><span class="o">;</span>

<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">advanced_techniques.annotations</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Example of an annotated class</span>
<span class="cm"> */</span>

<span class="nd">@MyAnnotation</span><span class="o">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;An annotated class&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AnnotatedClass</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nf">AnnotatedClass</span><span class="o">()</span> <span class="o">{</span>

        <span class="c1">// Get Annotation name-Attribute using Reflection</span>
        <span class="n">String</span> <span class="n">nameOfAnnotation</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getAnnotation</span><span class="o">(</span><span class="n">MyAnnotation</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">name</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">nameOfAnnotation</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>
        <span class="n">AnnotatedClass</span> <span class="n">annClass</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AnnotatedClass</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="beispiel-2">
<h4>3.1.4. Beispiel 2<a class="headerlink" href="#beispiel-2" title="Permalink to this headline">¶</a></h4>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">advanced_techniques.exercises</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.lang.annotation.Retention</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.RetentionPolicy</span><span class="o">;</span>

<span class="nd">@Retention</span><span class="o">(</span><span class="n">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>


<span class="kd">public</span> <span class="nd">@interface</span> <span class="n">TODO</span> <span class="o">{</span>
	<span class="n">String</span> <span class="nf">what</span><span class="o">()</span> <span class="k">default</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
	<span class="kt">int</span> <span class="nf">when</span><span class="o">()</span> <span class="k">default</span> <span class="mi">0</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<span id="document-advanced-techniques/reflection/reflection"></span><div class="section" id="reflection">
<h3>3.2. Reflection<a class="headerlink" href="#reflection" title="Permalink to this headline">¶</a></h3>
<p>Die Reflection-API bildet ein Modell der Java-Sprache. Die Reflection-API beschreibt
mittels Klassen wie Method, Constructor, Class, Field, etc. die Elemente von Java.
Mit Reflection kann die Struktur unbekannter Objekte und Klassen zur Laufzeit analysiert
werden. Ausserdem können damit Methoden und Konstruktoren aufgerufen und
Felder gesetzt werden.</p>
<p><strong>Class-Objekte erhält man über</strong></p>
<ul class="simple">
<li>anyObject.getClass()</li>
<li>AnyClass.class</li>
<li>Class.forName(&#8220;fully.qualified.Name&#8221;)</li>
</ul>
<div class="section" id="vorteile">
<h4>3.2.1. Vorteile<a class="headerlink" href="#vorteile" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Von der Klasse, die Reflection benutzt, gibt es nie eine direkte (binäre) Abhängigkeit auf die mit Reflection verwendeten Klassen. Sie kann deshalb unabhängig vom Vorhandensein der benutzten Klasse geladen und ausgeführt werden.</li>
<li>Die mit Reflection aufgerufenen Klassen müssen z.B. keinen bestimmten Typ haben, sondern nur Methoden mit einer bestimmten Signatur anbieten.</li>
<li>Verwendung von Annotations</li>
<li>Generische / konfigurierbare Ausführung von Programmen wird möglich.</li>
</ol>
</div>
<div class="section" id="nachteile">
<h4>3.2.2. Nachteile<a class="headerlink" href="#nachteile" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li>Die Reflection-API arbeitet mit Strings. Dadurch entsteht nur eine implizite Abhängigkeit / Kopplung zu den benutzen Klassen. Bei einer Veränderung der API der benutzten Klassen kann diese (vom Compiler unbemerkt) gebrochen werden.</li>
</ol>
</div>
<div class="section" id="beispiel-allgemein">
<h4>3.2.3. Beispiel Allgemein<a class="headerlink" href="#beispiel-allgemein" title="Permalink to this headline">¶</a></h4>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">advanced_techniques.reflection</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Reflection Example: Dummy Class to be loaded and instantiated dynamically</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DummyClass</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">myVar</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sayHello</span><span class="o">(</span><span class="n">String</span> <span class="n">yourName</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Hello World, hello %s\n&quot;</span><span class="o">,</span> <span class="n">yourName</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">advanced_techniques.reflection</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.lang.reflect.Field</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.InvocationTargetException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.Method</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.Modifier</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Reflection example</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Reflection</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">myClass</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">helloMethodName</span> <span class="o">=</span> <span class="s">&quot;sayHello&quot;</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Reflection</span><span class="o">(</span><span class="n">String</span> <span class="n">className</span><span class="o">)</span> <span class="o">{</span>

        <span class="k">try</span> <span class="o">{</span>

            <span class="c1">// Get Class by String</span>
            <span class="n">myClass</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="n">className</span><span class="o">);</span>

            <span class="c1">// Get Method by String</span>
            <span class="n">Method</span> <span class="n">helloMethod</span> <span class="o">=</span> <span class="n">myClass</span><span class="o">.</span><span class="na">getMethod</span><span class="o">(</span><span class="n">helloMethodName</span><span class="o">,</span> <span class="n">String</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

            <span class="c1">// Create an instance</span>
            <span class="n">Object</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">myClass</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>

            <span class="c1">// Invoke method</span>
            <span class="n">helloMethod</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">instance</span><span class="o">,</span> <span class="s">&quot;Samuel&quot;</span><span class="o">);</span>

            <span class="c1">// Get Field and Method list</span>
            <span class="n">Method</span><span class="o">[]</span> <span class="n">methods</span> <span class="o">=</span> <span class="n">myClass</span><span class="o">.</span><span class="na">getDeclaredMethods</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">methodsString</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
            <span class="k">for</span><span class="o">(</span><span class="n">Method</span> <span class="n">method</span> <span class="o">:</span> <span class="n">methods</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">methodsString</span> <span class="o">+=</span>
                        <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span>
                                <span class="s">&quot;%s %s(%s)&quot;</span><span class="o">,</span>
                                <span class="n">Modifier</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getModifiers</span><span class="o">()),</span>
                                <span class="n">method</span><span class="o">.</span><span class="na">getName</span><span class="o">(),</span>
                                <span class="n">method</span><span class="o">.</span><span class="na">getParameterTypes</span><span class="o">()</span>
                        <span class="o">);</span>
            <span class="o">}</span>

            <span class="n">Field</span><span class="o">[]</span> <span class="n">fields</span> <span class="o">=</span> <span class="n">myClass</span><span class="o">.</span><span class="na">getDeclaredFields</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">fieldStrings</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
            <span class="k">for</span><span class="o">(</span><span class="n">Field</span> <span class="n">field</span> <span class="o">:</span> <span class="n">fields</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">fieldStrings</span> <span class="o">+=</span>
                        <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span>
                                <span class="s">&quot;%s %s %s&quot;</span><span class="o">,</span>
                                <span class="n">Modifier</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">field</span><span class="o">.</span><span class="na">getModifiers</span><span class="o">()),</span>
                                <span class="n">field</span><span class="o">.</span><span class="na">getType</span><span class="o">(),</span>
                                <span class="n">field</span><span class="o">.</span><span class="na">getName</span><span class="o">()</span>
                        <span class="o">);</span>
            <span class="o">}</span>


            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span>
                    <span class="s">&quot;\n\nCalled by class %s with \n\nMethods:\n%s\n\nFields:\n%s&quot;</span><span class="o">,</span>
                    <span class="n">className</span><span class="o">,</span>
                    <span class="n">methodsString</span><span class="o">,</span>
                    <span class="n">fieldStrings</span>
            <span class="o">);</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ClassNotFoundException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Class %s could not be found.&quot;</span><span class="o">,</span> <span class="n">className</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">NoSuchMethodException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Method %s could not be found.&quot;</span><span class="o">,</span> <span class="n">helloMethodName</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IllegalAccessException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Illegal Access&quot;</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">InstantiationException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Error when instantiating class %s&quot;</span><span class="o">,</span> <span class="n">className</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">InvocationTargetException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Error when calling method %s&quot;</span><span class="o">,</span> <span class="n">helloMethodName</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span> <span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>

        <span class="c1">// Use Fully Qualified Module Name!</span>
        <span class="k">new</span> <span class="n">Reflection</span><span class="o">(</span><span class="s">&quot;advanced_techniques.reflection.DummyClass&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<span id="document-advanced-techniques/z_exercises/InterfaceGenerator"></span><div class="section" id="beispiel-aufgabe-interface-creator">
<h3>3.3. Beispiel Aufgabe Interface Creator<a class="headerlink" href="#beispiel-aufgabe-interface-creator" title="Permalink to this headline">¶</a></h3>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">advanced_techniques.exercises</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.lang.annotation.ElementType</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.Retention</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.RetentionPolicy</span><span class="o">;</span>

<span class="nd">@Retention</span><span class="o">(</span><span class="n">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>

<span class="kd">public</span> <span class="nd">@interface</span> <span class="n">DummyAnnotation</span> <span class="o">{</span>

<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">advanced_techniques.exercises</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.lang.annotation.Retention</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.annotation.RetentionPolicy</span><span class="o">;</span>

<span class="nd">@Retention</span><span class="o">(</span><span class="n">RetentionPolicy</span><span class="o">.</span><span class="na">RUNTIME</span><span class="o">)</span>


<span class="kd">public</span> <span class="nd">@interface</span> <span class="n">TODO</span> <span class="o">{</span>
	<span class="n">String</span> <span class="nf">what</span><span class="o">()</span> <span class="k">default</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
	<span class="kt">int</span> <span class="nf">when</span><span class="o">()</span> <span class="k">default</span> <span class="mi">0</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">advanced_techniques.exercises</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.lang.reflect.Method</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Comparator</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Compares Method objects by their method name for sorting.</span>
<span class="cm"> * @author samuelblattner</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MethodComparator</span> <span class="kd">implements</span> <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Method</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="n">Method</span> <span class="n">m1</span><span class="o">,</span> <span class="n">Method</span> <span class="n">m2</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">m1</span><span class="o">.</span><span class="na">getName</span><span class="o">().</span><span class="na">compareTo</span><span class="o">(</span><span class="n">m2</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">advanced_techniques.exercises</span><span class="o">;</span>

<span class="nd">@TODO</span><span class="o">(</span><span class="n">what</span><span class="o">=</span><span class="s">&quot;Make this class fancy&quot;</span><span class="o">,</span> <span class="n">when</span><span class="o">=</span><span class="mi">123</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyClass</span> <span class="o">{</span>

	<span class="kd">private</span> <span class="kt">int</span> <span class="n">var1</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">var2</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
	<span class="kd">public</span> <span class="kt">int</span> <span class="n">var3</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="n">test</span> <span class="o">=</span> <span class="s">&quot;hello&quot;</span><span class="o">;</span>
	
	<span class="nd">@TODO</span><span class="o">(</span><span class="n">what</span><span class="o">=</span><span class="s">&quot;Maybe make this method private&quot;</span><span class="o">,</span> <span class="n">when</span><span class="o">=</span><span class="mi">12</span><span class="o">)</span>	
	<span class="nd">@DummyAnnotation</span>	
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">HelloWorld</span><span class="o">(</span><span class="kt">int</span> <span class="n">howMany</span><span class="o">,</span> <span class="n">String</span> <span class="n">gugus</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Hello world.&quot;</span><span class="o">);</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">var1</span><span class="o">);</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">var2</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="nd">@TODO</span><span class="o">(</span><span class="n">what</span><span class="o">=</span><span class="s">&quot;Make this method public&quot;</span><span class="o">,</span> <span class="n">when</span><span class="o">=</span><span class="mi">15</span><span class="o">)</span>
	<span class="kd">private</span> <span class="n">String</span> <span class="nf">PrivateMethod</span><span class="o">(</span><span class="kt">int</span> <span class="n">param</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="s">&quot;Hello World&quot;</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">advanced_techniques.exercises</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.lang.annotation.Annotation</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.Method</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.Modifier</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Arrays</span><span class="o">;</span>


<span class="cm">/**</span>
<span class="cm"> * The Interfacer creates a String representation of an interface that is </span>
<span class="cm"> * implemented by a given class name. </span>
<span class="cm"> * @author samuelblattner</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Interfacer</span> <span class="o">{</span>
	
	<span class="kd">private</span> <span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">classTemplate</span><span class="o">;</span>
	<span class="kd">private</span> <span class="n">Method</span><span class="o">[]</span> <span class="n">classMethods</span><span class="o">;</span>
	
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">indentationLevel</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">boolean</span> <span class="n">formattedOutput</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
	
	<span class="cm">/** Methods with the following modifiers should not be rendered in the interface */</span>
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span><span class="o">[]</span> <span class="n">INVALID_MODIFIERS</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]{</span><span class="s">&quot;protected&quot;</span><span class="o">,</span> <span class="s">&quot;private&quot;</span><span class="o">,</span> <span class="s">&quot;static&quot;</span><span class="o">,</span> <span class="s">&quot;final&quot;</span><span class="o">};</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Returns a line break if formatted output is turned on.</span>
<span class="cm">	 * @return Line break or empty String.</span>
<span class="cm">	 */</span>
	<span class="kd">private</span> <span class="n">String</span> <span class="nf">formattedLineBreak</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">formattedOutput</span> <span class="o">?</span> <span class="s">&quot;\n&quot;</span> <span class="o">:</span> <span class="s">&quot; &quot;</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Returns an indentation corresponding to the current indentation level </span>
<span class="cm">	 * if formatted output is turned on.</span>
<span class="cm">	 * @return A multitude of tab characters.</span>
<span class="cm">	 */</span>
	<span class="kd">private</span> <span class="n">String</span> <span class="nf">formattedIndentation</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">formattedOutput</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">String</span> <span class="n">indentation</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">indentationLevel</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="n">indentation</span> <span class="o">+=</span> <span class="s">&quot;\t&quot;</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">return</span> <span class="n">indentation</span><span class="o">;</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Tries to retrieve a Class object by name. </span>
<span class="cm">	 * @param className The class name for which to find a Class</span>
<span class="cm">	 * @return true if Class could be found, false if not</span>
<span class="cm">	 */</span>
	<span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">getClassByName</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">className</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="k">this</span><span class="o">.</span><span class="na">classTemplate</span> <span class="o">=</span> <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="n">className</span><span class="o">);</span>
			<span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ClassNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
		<span class="o">}</span>
	<span class="o">}</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Gets the actual class name from a fully qualified</span>
<span class="cm">	 * class name.</span>
<span class="cm">	 * @param className</span>
<span class="cm">	 * @return The actual class name</span>
<span class="cm">	 */</span>
	<span class="kd">private</span> <span class="n">String</span> <span class="nf">renderClassName</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">className</span><span class="o">)</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">lastPosDot</span> <span class="o">=</span> <span class="n">className</span><span class="o">.</span><span class="na">lastIndexOf</span><span class="o">(</span><span class="s">&quot;.&quot;</span><span class="o">);</span>
		<span class="kt">int</span> <span class="n">lastPosDollar</span> <span class="o">=</span> <span class="n">className</span><span class="o">.</span><span class="na">lastIndexOf</span><span class="o">(</span><span class="s">&quot;$&quot;</span><span class="o">);</span>
		<span class="kt">int</span> <span class="n">nameStartPos</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">lastPosDot</span><span class="o">,</span> <span class="n">lastPosDollar</span><span class="o">);</span>
		<span class="k">return</span> <span class="n">className</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">nameStartPos</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Check if the modifiers of a given method contain </span>
<span class="cm">	 * any modifier that is illegal for an interface declaration.</span>
<span class="cm">	 * @param modifiers</span>
<span class="cm">	 * @return True if modifiers are valid</span>
<span class="cm">	 */</span>
	<span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">validateModifiers</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">modifiers</span><span class="o">)</span> <span class="o">{</span>
		<span class="kt">boolean</span> <span class="n">valid</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
		<span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">Interfacer</span><span class="o">.</span><span class="na">INVALID_MODIFIERS</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
		<span class="k">while</span> <span class="o">(</span><span class="n">valid</span> <span class="o">&amp;&amp;</span> <span class="n">i</span><span class="o">--</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">modifiers</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">Interfacer</span><span class="o">.</span><span class="na">INVALID_MODIFIERS</span><span class="o">[</span><span class="n">i</span><span class="o">]))</span> <span class="o">{</span>
				<span class="n">valid</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
				<span class="k">return</span> <span class="n">valid</span><span class="o">;</span>
			<span class="o">}</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">valid</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Renders all annotations for a given class or method. If the annotation</span>
<span class="cm">	 * is of type TODO, it will be replaced with a comment representation instead.</span>
<span class="cm">	 * @param annotatedObject</span>
<span class="cm">	 * @return</span>
<span class="cm">	 */</span>
	<span class="kd">private</span> <span class="n">String</span> <span class="nf">renderAnnotationsForObject</span><span class="o">(</span><span class="n">Object</span> <span class="n">annotatedObject</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">Annotation</span><span class="o">[]</span> <span class="n">annotationClasses</span><span class="o">;</span>
		<span class="kt">boolean</span> <span class="n">isMethod</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
		
		<span class="k">if</span> <span class="o">(</span> <span class="n">annotatedObject</span><span class="o">.</span><span class="na">getClass</span><span class="o">()</span> <span class="o">==</span> <span class="n">Method</span><span class="o">.</span><span class="na">class</span> <span class="o">)</span> <span class="o">{</span>
			<span class="n">annotationClasses</span> <span class="o">=</span> <span class="o">((</span><span class="n">Method</span><span class="o">)</span><span class="n">annotatedObject</span><span class="o">).</span><span class="na">getDeclaredAnnotations</span><span class="o">();</span>
		<span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span> <span class="n">annotatedObject</span><span class="o">.</span><span class="na">getClass</span><span class="o">()</span> <span class="o">==</span> <span class="n">Class</span><span class="o">.</span><span class="na">class</span> <span class="o">)</span> <span class="o">{</span>
			<span class="n">annotationClasses</span> <span class="o">=</span> <span class="o">((</span><span class="n">Class</span><span class="o">&lt;?&gt;)</span><span class="n">annotatedObject</span><span class="o">).</span><span class="na">getDeclaredAnnotations</span><span class="o">();</span>
			<span class="n">isMethod</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
		<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
			<span class="k">return</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
		<span class="o">}</span>
		
		<span class="k">if</span> <span class="o">(</span><span class="n">annotationClasses</span><span class="o">.</span><span class="na">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">String</span> <span class="n">annotations</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
			<span class="k">for</span> <span class="o">(</span><span class="n">Annotation</span> <span class="n">annotation</span><span class="o">:</span> <span class="n">annotationClasses</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">annotation</span><span class="o">.</span><span class="na">annotationType</span><span class="o">()</span> <span class="o">==</span> <span class="n">TODO</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">TODO</span> <span class="n">todo</span><span class="o">;</span>
					<span class="k">if</span> <span class="o">(</span><span class="n">isMethod</span><span class="o">)</span> <span class="o">{</span>
						<span class="n">todo</span> <span class="o">=</span> <span class="o">((</span><span class="n">Method</span><span class="o">)</span><span class="n">annotatedObject</span><span class="o">).</span><span class="na">getAnnotation</span><span class="o">(</span><span class="n">TODO</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
					<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
						<span class="n">todo</span> <span class="o">=</span> <span class="o">(</span><span class="n">TODO</span><span class="o">)((</span><span class="n">Class</span><span class="o">&lt;?&gt;)</span><span class="n">annotatedObject</span><span class="o">).</span><span class="na">getAnnotation</span><span class="o">(</span><span class="n">TODO</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
					<span class="o">}</span>
					
					<span class="n">annotations</span> <span class="o">+=</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%s/** TODO what=%s when=Release %d */%s&quot;</span><span class="o">,</span>
							<span class="n">formattedIndentation</span><span class="o">(),</span>
							<span class="n">todo</span><span class="o">.</span><span class="na">what</span><span class="o">(),</span>
							<span class="n">todo</span><span class="o">.</span><span class="na">when</span><span class="o">(),</span>
							<span class="n">formattedLineBreak</span><span class="o">()</span>
							<span class="o">);</span>
				<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
					<span class="n">annotations</span> <span class="o">+=</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%s%s%s&quot;</span><span class="o">,</span>
							<span class="n">formattedIndentation</span><span class="o">(),</span>
							<span class="n">annotation</span><span class="o">.</span><span class="na">toString</span><span class="o">(),</span>
							<span class="n">formattedLineBreak</span><span class="o">());</span>
				<span class="o">}</span>
			<span class="o">}</span>
			<span class="k">return</span> <span class="n">annotations</span><span class="o">;</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Renders a method with its modifiers, return type and</span>
<span class="cm">	 * parameter types. The string is rendered with a concluding</span>
<span class="cm">	 * semicolon.</span>
<span class="cm">	 * @param method A Method instance of which a String representation</span>
<span class="cm">	 * should be rendered.</span>
<span class="cm">	 * @return A String representation of the method.</span>
<span class="cm">	 */</span>
	<span class="kd">private</span> <span class="n">String</span> <span class="nf">renderMethodSignature</span><span class="o">(</span><span class="n">Method</span> <span class="n">method</span><span class="o">)</span> <span class="o">{</span>
		<span class="cm">/** </span>
<span class="cm">		 * Retrieve method modifiers and check if valid.</span>
<span class="cm">		 * Do not render if method signature contains any invalid modifiers */</span>
		<span class="n">String</span> <span class="n">methodModifiers</span> <span class="o">=</span> <span class="n">Modifier</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getModifiers</span><span class="o">());</span>
		
		<span class="k">if</span> <span class="o">(</span><span class="n">validateModifiers</span><span class="o">(</span><span class="n">methodModifiers</span><span class="o">))</span> <span class="o">{</span>
			
			<span class="cm">/** Retrieve parameter types */</span>
			<span class="n">String</span> <span class="n">params</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
			<span class="n">Class</span><span class="o">&lt;?&gt;[]</span> <span class="n">paramClasses</span> <span class="o">=</span> <span class="n">method</span><span class="o">.</span><span class="na">getParameterTypes</span><span class="o">();</span>
			
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">paramClasses</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="n">params</span> <span class="o">+=</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%s param%d%s&quot;</span><span class="o">,</span>
						<span class="n">paramClasses</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">getName</span><span class="o">(),</span>
						<span class="n">i</span><span class="o">,</span>
						<span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">paramClasses</span><span class="o">.</span><span class="na">length</span> <span class="o">?</span> <span class="s">&quot;, &quot;</span> <span class="o">:</span> <span class="s">&quot;&quot;</span> <span class="o">);</span>
			<span class="o">}</span>
			
			<span class="k">return</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%s%s%s %s %s(%s);&quot;</span><span class="o">,</span>
					<span class="n">renderAnnotationsForObject</span><span class="o">(</span><span class="n">method</span><span class="o">),</span>
					<span class="n">formattedIndentation</span><span class="o">(),</span>
					<span class="n">Modifier</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">method</span><span class="o">.</span><span class="na">getModifiers</span><span class="o">()),</span>
					<span class="n">method</span><span class="o">.</span><span class="na">getReturnType</span><span class="o">().</span><span class="na">getName</span><span class="o">(),</span>
					<span class="n">method</span><span class="o">.</span><span class="na">getName</span><span class="o">(),</span>
					<span class="n">params</span>
			<span class="o">);</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Outputs an interfacer description that is compatible to </span>
<span class="cm">	 * the given class.</span>
<span class="cm">	 * @param patternClass</span>
<span class="cm">	 */</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="nf">renderInterfaceForClassName</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">className</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">getClassByName</span><span class="o">(</span><span class="n">className</span><span class="o">))</span> <span class="o">{</span>
			<span class="n">classMethods</span> <span class="o">=</span> <span class="n">classTemplate</span><span class="o">.</span><span class="na">getDeclaredMethods</span><span class="o">();</span>

			<span class="n">String</span> <span class="n">output</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%spublic interface %sIf{%s&quot;</span><span class="o">,</span>
					<span class="n">renderAnnotationsForObject</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">classTemplate</span><span class="o">),</span>
					<span class="n">renderClassName</span><span class="o">(</span><span class="n">className</span><span class="o">),</span>
					<span class="n">formattedLineBreak</span><span class="o">());</span>
			
			<span class="n">indentationLevel</span><span class="o">++;</span>
						
			<span class="cm">/** Methods. */</span>
			<span class="n">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">classMethods</span><span class="o">,</span> <span class="k">new</span> <span class="n">MethodComparator</span><span class="o">());</span>
			
			<span class="k">for</span> <span class="o">(</span><span class="n">Method</span> <span class="n">classMethod</span> <span class="o">:</span> <span class="n">classMethods</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">String</span> <span class="n">methodSignature</span> <span class="o">=</span> <span class="n">renderMethodSignature</span><span class="o">(</span><span class="n">classMethod</span><span class="o">);</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">methodSignature</span> <span class="o">!=</span> <span class="s">&quot;&quot;</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">output</span> <span class="o">+=</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%s%s&quot;</span><span class="o">,</span>
							<span class="n">renderMethodSignature</span><span class="o">(</span><span class="n">classMethod</span><span class="o">),</span>
							<span class="n">formattedLineBreak</span><span class="o">());</span>
				<span class="o">}</span>
			<span class="o">}</span>
			
			<span class="n">indentationLevel</span><span class="o">--;</span>
			
			<span class="n">output</span> <span class="o">+=</span> <span class="s">&quot;}&quot;</span><span class="o">;</span>
			<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">output</span><span class="o">);</span>
			<span class="k">return</span> <span class="n">output</span><span class="o">;</span>
		<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
			<span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;Class \&quot;%s\&quot; could not be found!&quot;</span><span class="o">,</span> <span class="n">className</span><span class="o">);</span>
			<span class="k">return</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
		<span class="o">}</span>		
	<span class="o">}</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Overloaded method for formatted output.</span>
<span class="cm">	 * @param className</span>
<span class="cm">	 * @param formattedOutput</span>
<span class="cm">	 */</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="nf">renderInterfaceForClassName</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">className</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">formattedOutput</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">formattedOutput</span> <span class="o">=</span> <span class="n">formattedOutput</span><span class="o">;</span>
		<span class="k">return</span> <span class="n">renderInterfaceForClassName</span><span class="o">(</span><span class="n">className</span><span class="o">);</span>
	<span class="o">}</span>
	
	<span class="cm">/**</span>
<span class="cm">	 * Main method</span>
<span class="cm">	 * @param args Arguments</span>
<span class="cm">	 */</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">Interfacer</span> <span class="n">interfacer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Interfacer</span><span class="o">();</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">args</span><span class="o">.</span><span class="na">length</span> <span class="o">!=</span> <span class="mi">2</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">interfacer</span><span class="o">.</span><span class="na">renderInterfaceForClassName</span><span class="o">(</span><span class="s">&quot;block2.MyClass&quot;</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
		<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
			<span class="n">String</span> <span class="n">className</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
			<span class="kt">boolean</span> <span class="n">formatted</span> <span class="o">=</span> <span class="o">(</span><span class="n">args</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="s">&quot;true&quot;</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="kc">false</span><span class="o">);</span>
			<span class="n">interfacer</span><span class="o">.</span><span class="na">renderInterfaceForClassName</span><span class="o">(</span><span class="n">className</span><span class="o">,</span> <span class="n">formatted</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<span id="document-gui/gui"></span><div class="section" id="gui">
<h2>4. GUI<a class="headerlink" href="#gui" title="Permalink to this headline">¶</a></h2>
<div class="section" id="swing">
<h3>4.1. Swing<a class="headerlink" href="#swing" title="Permalink to this headline">¶</a></h3>
<div class="section" id="elements">
<h4>4.1.1. Elements<a class="headerlink" href="#elements" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="layouts">
<h4>4.1.2. Layouts<a class="headerlink" href="#layouts" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="example">
<h4>4.1.3. Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">gui</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Created by samuelblattner on 21/09/16.</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GuiExample</span> <span class="o">{</span>

    <span class="c1">// Basic Frame (root GUI element)</span>
    <span class="kd">private</span> <span class="n">JFrame</span> <span class="n">baseFrame</span><span class="o">;</span>

    <span class="c1">// A Panel</span>
    <span class="kd">private</span> <span class="n">JPanel</span> <span class="n">basePanel</span><span class="o">;</span>

    <span class="c1">// Buttons</span>
    <span class="kd">private</span> <span class="n">JButton</span> <span class="n">okButton</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">JButton</span> <span class="n">cancelButton</span><span class="o">;</span>


    <span class="kd">public</span> <span class="nf">GuiExample</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">createBaseDialog</span><span class="o">();</span>
        <span class="n">createButtons</span><span class="o">();</span>

        <span class="n">baseFrame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">createBaseDialog</span><span class="o">()</span> <span class="o">{</span>

        <span class="c1">// Create Frame</span>
        <span class="n">baseFrame</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JFrame</span><span class="o">(</span><span class="s">&quot;My Frame&quot;</span><span class="o">);</span>
        <span class="n">baseFrame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">500</span><span class="o">,</span> <span class="mi">500</span><span class="o">);</span>
        <span class="n">baseFrame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="n">WindowConstants</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>

        <span class="c1">// Create Panel</span>
        <span class="n">basePanel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="o">(</span><span class="k">new</span> <span class="n">BorderLayout</span><span class="o">());</span>

        <span class="c1">// Add to Frame</span>
        <span class="n">baseFrame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">basePanel</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">createButtons</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">okButton</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="o">(</span><span class="s">&quot;Hello&quot;</span><span class="o">);</span>
        <span class="n">cancelButton</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="o">(</span><span class="s">&quot;Hello&quot;</span><span class="o">);</span>

        <span class="n">basePanel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">okButton</span><span class="o">,</span> <span class="n">BorderLayout</span><span class="o">.</span><span class="na">NORTH</span><span class="o">);</span>
        <span class="n">basePanel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">cancelButton</span><span class="o">,</span> <span class="n">BorderLayout</span><span class="o">.</span><span class="na">SOUTH</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>
        <span class="n">GuiExample</span> <span class="n">example</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GuiExample</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="example-2">
<h4>4.1.4. Example 2<a class="headerlink" href="#example-2" title="Permalink to this headline">¶</a></h4>
<img alt="_images/GuiExample2.png" src="_images/GuiExample2.png" />
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">gui</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionEvent</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.ActionListener</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Created by samuelblattner on 21/09/16.</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">GuiExample2</span> <span class="o">{</span>
    
    <span class="kd">private</span> <span class="n">JFrame</span> <span class="n">baseFrame</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">JPanel</span> <span class="n">basePanel</span><span class="o">,</span> <span class="n">centerPanel</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">JButton</span> <span class="n">buttonToLeft</span><span class="o">,</span> <span class="n">buttonToRight</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">JScrollPane</span> <span class="n">leftScrollPane</span><span class="o">,</span> <span class="n">rightScrollPane</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">JList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">leftList</span><span class="o">,</span> <span class="n">rightList</span><span class="o">;</span>

    
    <span class="kd">public</span> <span class="nf">GuiExample2</span><span class="o">()</span> <span class="o">{</span>
    
        <span class="n">baseFrame</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JFrame</span><span class="o">(</span><span class="s">&quot;Mein tolles Fenster :-)&quot;</span><span class="o">);</span>
        <span class="n">baseFrame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="n">WindowConstants</span><span class="o">.</span><span class="na">EXIT_ON_CLOSE</span><span class="o">);</span>
        <span class="c1">// pack()???</span>

        <span class="n">basePanel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="o">(</span><span class="k">new</span> <span class="n">BorderLayout</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span><span class="mi">5</span><span class="o">));</span>
        <span class="n">baseFrame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">basePanel</span><span class="o">);</span>

        <span class="n">leftScrollPane</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JScrollPane</span><span class="o">();</span>
        <span class="n">leftScrollPane</span><span class="o">.</span><span class="na">setPreferredSize</span><span class="o">(</span><span class="k">new</span> <span class="n">Dimension</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">));</span>
        <span class="n">leftList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JList</span><span class="o">&lt;&gt;();</span>
        <span class="n">leftScrollPane</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">leftList</span><span class="o">);</span>
        <span class="n">basePanel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">leftScrollPane</span><span class="o">,</span> <span class="n">BorderLayout</span><span class="o">.</span><span class="na">WEST</span><span class="o">);</span>

        <span class="n">rightScrollPane</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JScrollPane</span><span class="o">();</span>
        <span class="n">rightScrollPane</span><span class="o">.</span><span class="na">setPreferredSize</span><span class="o">(</span><span class="k">new</span> <span class="n">Dimension</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">200</span><span class="o">));</span>
        <span class="n">rightList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JList</span><span class="o">&lt;&gt;();</span>
        <span class="n">rightScrollPane</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">rightList</span><span class="o">);</span>
        <span class="n">basePanel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">rightScrollPane</span><span class="o">,</span> <span class="n">BorderLayout</span><span class="o">.</span><span class="na">EAST</span><span class="o">);</span>

        <span class="n">centerPanel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JPanel</span><span class="o">(</span><span class="k">new</span> <span class="n">GridLayout</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="mi">1</span><span class="o">));</span>

        <span class="n">buttonToLeft</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="o">(</span><span class="s">&quot;&lt;&lt;&lt;&quot;</span><span class="o">);</span>
        <span class="n">buttonToLeft</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Hast mich geklickt :D&quot;</span><span class="o">);</span>
                <span class="c1">//leftList.add(&quot;Click Left&quot;, null);</span>
            <span class="o">}</span>
        <span class="o">});</span>

        <span class="n">buttonToRight</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JButton</span><span class="o">(</span><span class="s">&quot;&gt;&gt;&gt;&quot;</span><span class="o">);</span>
        <span class="n">buttonToRight</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">new</span> <span class="n">ActionListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="n">ActionEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Hast mich geklickt :D&quot;</span><span class="o">);</span>
                <span class="c1">//rightList.add(&quot;Click Right&quot;, null);</span>
            <span class="o">}</span>
        <span class="o">});</span>

        <span class="n">centerPanel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">buttonToLeft</span><span class="o">);</span> <span class="c1">//, buttonToRight);</span>
        <span class="n">centerPanel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">buttonToRight</span><span class="o">);</span>
        <span class="n">basePanel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">centerPanel</span><span class="o">,</span> <span class="n">BorderLayout</span><span class="o">.</span><span class="na">CENTER</span><span class="o">);</span>


        <span class="n">baseFrame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="k">new</span> <span class="n">Dimension</span><span class="o">(</span><span class="mi">600</span><span class="o">,</span> <span class="mi">250</span><span class="o">));</span>
        <span class="n">baseFrame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

    <span class="o">}</span>
    
       

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>
        <span class="n">GuiExample2</span> <span class="n">example</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GuiExample2</span><span class="o">();</span>

    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<span id="document-smells/smells"></span><div class="section" id="smells">
<h2>5. Smells<a class="headerlink" href="#smells" title="Permalink to this headline">¶</a></h2>
<p>Qualitativ guter Code ist der Schlüssel zum langfristigen Erfolg einer Software
* Minimiert # Fehler, die erst im Betrieb auftauchen
* Hilft, Fehler rasch zu finden und zu beheben
* Unterstützt die rasche Entwicklung von Erweiterungen zu einem späteren Zeitpunkt
* Ermöglicht Wartung durch Personen, die an der Entwicklung nicht beteiligt waren</p>
<div class="toctree-wrapper compound">
<span id="document-smells/exception-handling/careless-returns"></span><div class="section" id="unbedachter-ruckgabewert-s-996">
<h3>5.1. Unbedachter Rückgabewert (S.996)<a class="headerlink" href="#unbedachter-ruckgabewert-s-996" title="Permalink to this headline">¶</a></h3>
<p>Bei Methoden mit einem Objekt als Rückgabewert, wird oft null zurückgegeben, z.B. falls der Eingabewert ungültig oder leer ist.</p>
<p><strong>Bad Smell, weil...</strong></p>
<ul class="simple">
<li>Rückgabewert null unerwartet, da Signatur z.B. String als Rückgabewert definiert =&gt; Potentielle NullPointerException</li>
<li>Null-Rückgabewerte müssen als Randfall speziell behandelt werden</li>
</ul>
<p><strong>Refactorings</strong></p>
<ul class="simple">
<li>Im Falle eines String-Rückgabewertes lieber einen leeren String verwenden</li>
</ul>
</div>
<span id="document-smells/exception-handling/io-no-finally"></span><div class="section" id="i-o-ohne-finally-s-1004">
<h3>5.2. I/O ohne finally (S.1004)<a class="headerlink" href="#i-o-ohne-finally-s-1004" title="Permalink to this headline">¶</a></h3>
<p>Bei Arbeit mit Stream-Objekten werden neben einem Java-Objekt auch Systemressourcen alloziert. Diese werden bei Zerstörung des Java-Objektes nicht automatisch freigegeben und bedürfen eines manuellen Aufrufs von close().
Meist wird das Öffnen und Schliessen einer Datei innerhalb eines try/catch Blocks ohne finally abgehandelt.</p>
<p><strong>Bad Smell, weil...</strong></p>
<ul class="simple">
<li>Im Fehlerfall wird u.U. die close()-Methode nicht ausgeführt =&gt; «verlorene» Ressourcen.</li>
<li>Null-Rückgabewerte müssen als Randfall speziell behandelt werden</li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">smells.exception_handling</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.FileInputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * IO without finally, Bad Smell</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">IONoFinally_Bad</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">loadProperties</span><span class="o">(</span><span class="n">FileInputStream</span> <span class="n">stream</span><span class="o">)</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">readProperties</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">fileName</span><span class="o">)</span> <span class="o">{</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="kd">final</span> <span class="n">FileInputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="n">fileName</span><span class="o">);</span>
            <span class="n">loadProperties</span><span class="o">(</span><span class="n">inputStream</span><span class="o">);</span>
            <span class="n">inputStream</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="kd">final</span> <span class="n">IOException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// log.warn(&quot;Error opening file&quot;);</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p><strong>Refactorings</strong></p>
<ul class="simple">
<li>Finally-Block verwenden, der in jedem Fall ausgeführt wird</li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">smells.exception_handling</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">sun.misc.IOUtils</span><span class="o">;</span>
<span class="c1">//import sun.nio.ch.IOUtil;</span>

<span class="kn">import</span> <span class="nn">java.io.FileInputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * IO without finally, Good</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">IONoFinally_Good</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">loadProperties</span><span class="o">(</span><span class="n">FileInputStream</span> <span class="n">stream</span><span class="o">)</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">readProperties</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">fileName</span><span class="o">)</span> <span class="o">{</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="kd">final</span> <span class="n">FileInputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="n">fileName</span><span class="o">);</span>
            <span class="n">loadProperties</span><span class="o">(</span><span class="n">inputStream</span><span class="o">);</span>
            <span class="n">inputStream</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="kd">final</span> <span class="n">IOException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// log.warn(&quot;Error opening file&quot;);</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
            <span class="c1">// Save close</span>
            <span class="c1">//IOUtils.closeQuietly(inputStream);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<ul class="simple">
<li>Oder ab JDK 7 ARM (Automatic Resource Management) verwenden:</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">package</span> <span class="n">smells</span><span class="o">.</span><span class="n">exception_handling</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">sun.misc.IOUtils</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">java.io.FileInputStream</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="p">;</span>

<span class="o">/**</span>
 <span class="o">*</span> <span class="n">IO</span> <span class="n">without</span> <span class="k">finally</span><span class="p">,</span> <span class="n">Good</span>
 <span class="o">*/</span>
<span class="n">public</span> <span class="k">class</span> <span class="nc">IONoFinally_Good2</span> <span class="p">{</span>

    <span class="n">private</span> <span class="n">void</span> <span class="n">loadProperties</span><span class="p">(</span><span class="n">InputStream</span> <span class="n">stream</span><span class="p">)</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="n">private</span> <span class="n">boolean</span> <span class="n">readProperties</span><span class="p">(</span><span class="n">final</span> <span class="n">String</span> <span class="n">fileName</span><span class="p">)</span> <span class="p">{</span>

        <span class="k">try</span> <span class="p">(</span><span class="n">final</span> <span class="n">InputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">new</span> <span class="n">FileInputStream</span><span class="p">(</span><span class="n">fileName</span><span class="p">))</span> <span class="p">{</span>
            <span class="n">loadProperties</span><span class="p">(</span><span class="n">inputStream</span><span class="p">);</span>
        <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">final</span> <span class="n">IOException</span> <span class="n">ex</span><span class="p">)</span> <span class="p">{</span>
            <span class="o">//</span> <span class="n">log</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Error opening the file&quot;</span><span class="p">);</span>
            <span class="k">return</span> <span class="n">false</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">language:</th><td class="field-body">java</td>
</tr>
</tbody>
</table>
</div>
<span id="document-smells/exception-handling/too-broad-exception-clause"></span><div class="section" id="fangen-der-allgemeinsten-exception-s-993">
<h3>5.3. Fangen der allgemeinsten Exception (S.993)<a class="headerlink" href="#fangen-der-allgemeinsten-exception-s-993" title="Permalink to this headline">¶</a></h3>
<p>Meist aus Bequemlichkeit wird für alle Exceptions lediglich der allgemeinte Typ Exception gefangen.</p>
<p><strong>Bad Smell, weil...</strong></p>
<ul class="simple">
<li>Fehlerbehandling nicht Zweckorientiert.</li>
<li>Andere, unbekannte schwerwiegende Fehler können unerkannt bleiben und zu unerklärlichem Fehlverhalten des Programms führen.</li>
<li>Wertebereichsüberprüfung aufwändig, wenn neue gültige Werte hinzugefügt werden sollen.</li>
</ul>
<p><strong>Refactorings</strong></p>
<ul class="simple">
<li>Spezifische Exceptions fangen</li>
<li>Im Falle, dass auf die spezifischen Ausnahmen immer gleich reagiert wird, kann ausnahmsweise Exception gefangen werden.</li>
<li>Ab JDK 7 steht «Multi Catch» zur Verfügung, um mehrere spezifische Ausnahmen mit einem Catch zu fangen:</li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="k">try</span> <span class="o">{</span>
 <span class="o">...</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="kd">final</span> <span class="n">RemoteException</span> <span class="o">|</span> <span class="n">FinderException</span> <span class="o">|</span> <span class="n">RemoveException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
 <span class="o">...</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<span id="document-smells/pitfalls/complex-boolean-expressions"></span><div class="section" id="einsatz-komplizierter-boolescher-bedingungen-s-1017">
<h3>5.4. Einsatz komplizierter boolescher Bedingungen (S.1017)<a class="headerlink" href="#einsatz-komplizierter-boolescher-bedingungen-s-1017" title="Permalink to this headline">¶</a></h3>
<p>Bedingungen durch Verkettung boolescher Ausdrücke sind oft unbedacht und zu kompliziert geschrieben.</p>
<p><strong>Beispiel</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="o">((</span><span class="n">lastWorkingState</span> <span class="o">==</span> <span class="kc">false</span> <span class="o">&amp;&amp;</span> <span class="n">newWorkingState</span> <span class="o">==</span> <span class="kc">true</span><span class="o">)</span> <span class="o">||</span>
    <span class="o">(</span><span class="n">lastWorkingState</span> <span class="o">==</span> <span class="kc">true</span> <span class="o">&amp;&amp;</span> <span class="n">newWorkingState</span> <span class="o">==</span> <span class="kc">false</span><span class="o">))</span>
</pre></div>
</div>
<p><strong>Refactorings</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="o">(</span><span class="n">lastWorkingState</span> <span class="o">!=</span> <span class="n">newWorkingState</span><span class="o">)</span>
</pre></div>
</div>
</div>
<span id="document-smells/program-design/TD_declaration-scope-973"></span><div class="section" id="todo">
<h3>5.5. TODO<a class="headerlink" href="#todo" title="Permalink to this headline">¶</a></h3>
</div>
<span id="document-smells/program-design/constants-interfaces"></span><div class="section" id="konstanten-in-interfaces-definieren-s-954">
<h3>5.6. Konstanten in Interfaces definieren (S.954)<a class="headerlink" href="#konstanten-in-interfaces-definieren-s-954" title="Permalink to this headline">¶</a></h3>
<p>Entweder werden Interfaces ausschliesslich zur Definition von Konstanten verwendet, oder sie werden zusammen mit Methodendefinitionen aufgeführt.</p>
<p><strong>Bad Smell, weil...</strong></p>
<ul class="simple">
<li>Sichtbarkeit kann nicht eingeschränkt werden, da jede Konstante in einem Interface implizit <code class="docutils literal"><span class="pre">`public`</span></code> ist.</li>
<li>Wenn eine Klasse das Interface implementiert ist nur schwer erkennbar, woher die Konstanten effektiv entstammen.</li>
<li>Wenn eine Klasse das Interface implementiert und eine Subklasse dieser Klasse ein andere Interface implementiert, das zufällig gleiche Konstantennamen definiert, kommt es zu Mehrdeutitgkeiten der Konstanten und das Programm kann nicht kompiliert werden.</li>
</ul>
<p><strong>Refactorings</strong></p>
<ul class="simple">
<li>Interfaces nicht für Konstantensammlungen verwenden.</li>
<li>Stattdessen dedizierte Klassen oder enums verwenden.</li>
</ul>
</div>
<span id="document-smells/program-design/copy-paste"></span><div class="section" id="copy-paste-leichen">
<h3>5.7. Copy-Paste Leichen<a class="headerlink" href="#copy-paste-leichen" title="Permalink to this headline">¶</a></h3>
<p>Oft werden Codeblöcke aufgrund gleicher oder ähnlicher Funktionalität kopiert, woanders eingefügt und leicht abgeändert.</p>
<p><strong>Bad Smell weil ...</strong></p>
<ul class="simple">
<li>Vielfach gehen dabei wichtige Änderungen (z.B. von Variablennamen) vergessen und es kommt zu Fehlverhalten.</li>
<li>Code wird unübersichtlicher, da vieles ähnlich aussieht.</li>
<li>Code ist u.U. für den neuen Einsatzzweck nicht optimal, da einfach kopiert.</li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">smells.program_design</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Copy Paste left-overs</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CopyPaste_Bad</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="n">Vehicle</span> <span class="nf">createCar</span><span class="o">()</span> <span class="o">{</span>

        <span class="n">Vehicle</span> <span class="n">vehicle</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Vehicle</span><span class="o">();</span>
        <span class="n">vehicle</span><span class="o">.</span><span class="na">type</span> <span class="o">=</span> <span class="s">&quot;CAR&quot;</span><span class="o">;</span>
        <span class="n">vehicle</span><span class="o">.</span><span class="na">hasMotor</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>

        <span class="k">return</span> <span class="n">vehicle</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">Vehicle</span> <span class="nf">createBike</span><span class="o">()</span> <span class="o">{</span>

        <span class="n">Vehicle</span> <span class="n">vehicle</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Vehicle</span><span class="o">();</span>
        <span class="n">vehicle</span><span class="o">.</span><span class="na">type</span> <span class="o">=</span> <span class="s">&quot;CAR&quot;</span><span class="o">;</span>  <span class="c1">// &lt;--- Vergessen zu ändern !!!</span>
        <span class="n">vehicle</span><span class="o">.</span><span class="na">hasMotor</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

        <span class="k">return</span> <span class="n">vehicle</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<span id="document-smells/program-design/enums-instead-of-constants"></span><div class="section" id="zusammengehorende-konstanten-nicht-als-typ-definiert-s-956">
<h3>5.8. Zusammengehörende Konstanten nicht als Typ definiert (S.956)<a class="headerlink" href="#zusammengehorende-konstanten-nicht-als-typ-definiert-s-956" title="Permalink to this headline">¶</a></h3>
<p>Zusammenhängede Konstanten werden &#8216;lose&#8217; definiert (z.B. Konstanten für Befehle mittels int).</p>
<p><strong>Bad Smell, weil...</strong></p>
<ul class="simple">
<li>Beim Aufruf der verwendenden Funktion wäre theoretisch auch jeder andere int-Wert möglich =&gt; Fehlerpotenzial!</li>
<li>Es wäre eine Wertebereichsüberprüfung nötig, um ungültige Werte auszuschliessen.</li>
<li>Wertebereichsüberprüfung aufwändig, wenn neue gültige Werte hinzugefügt werden sollen.</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>package smells.program_design;

/**
 * Created by samuelblattner on 24/09/16.
 */
public class EnumConstants_Bad {

    public static final int COMMAND_REDO = 1;
    public static final int COMMAND_UNDO = 2;
    public static final int COMMAND_SAVE = 3;

    public void execute_command(final int strategy) {        // &lt;--- Theoretisch jeder int-Wert möglich!!!
        // u.U. Wertebereichsüberprüfung von strategy
        // Ausführen des Commands
        // ...
    }
}
</pre></div>
</div>
<p><strong>Refactorings</strong></p>
<ul class="simple">
<li>Zusammenhängende Konstanten als Typ (mit enum) lösen.</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span>package smells.program_design;

/**
 * Example grouped constants, good
 */


enum CommandStrategies {
    COMMAND_REDO,
    COMMAND_UNDO,
    COMMAND_SAVE
}

public class EnumConstants_Good {

    public void execute_command(final CommandStrategies strategy) {     // &lt;--- Nur noch Argument vom Typ CommandStrategies möglich!
        // Ausführen des Commands
        // ...
    }
}
</pre></div>
</div>
</div>
<span id="document-smells/program-design/long-parameter-lists"></span><div class="section" id="lange-methoden-parameterlisten-gleichen-typs">
<h3>5.9. Lange Methoden-Parameterlisten (gleichen Typs)<a class="headerlink" href="#lange-methoden-parameterlisten-gleichen-typs" title="Permalink to this headline">¶</a></h3>
<p>Methodensignaturen mit vielen und vor allem ähnlichen Datentypen (aber unterschiedlicher Bedeutung) sind schnell unübersichtlich und können zu fehlerhaften Aufrufen durch den Programmierer führen, insbesondere dann, wenn die Methode überladen wird.</p>
<p><strong>Bad Smell weil ...</strong></p>
<ul class="simple">
<li>Einfaches Vertauschen von Parametern wenn Methode überladen.</li>
<li>Unübersichtlich</li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">smells.program_design</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Bad Parameter List Example</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MethodParameterLength_Bad</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clearRect</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">,</span> <span class="kt">int</span> <span class="n">width</span><span class="o">,</span> <span class="kt">int</span> <span class="n">height</span><span class="o">)</span> <span class="o">{}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clearRect</span><span class="o">(</span><span class="kt">int</span> <span class="n">x1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y1</span><span class="o">,</span> <span class="kt">int</span> <span class="n">x2</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y2</span><span class="o">,</span> <span class="kt">long</span> <span class="n">colorRGB</span><span class="o">)</span> <span class="o">{}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clearRect</span><span class="o">(</span><span class="kt">int</span> <span class="n">red</span><span class="o">,</span> <span class="kt">int</span> <span class="n">green</span><span class="o">,</span> <span class="kt">int</span> <span class="n">blue</span><span class="o">,</span>
                          <span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">,</span> <span class="kt">int</span> <span class="n">width</span><span class="o">,</span> <span class="kt">int</span> <span class="n">height</span><span class="o">)</span> <span class="o">{}</span>
<span class="o">}</span>
</pre></div>
</div>
<p><strong>Refactoring</strong></p>
<ul class="simple">
<li>Möglichst gleiche Reihenfolge der Parameter in den Überladenen Signaturen.</li>
<li>Nach Bedeutung zusammengehörige Parameter möglichst in &#8220;Parameter Value Objects&#8221; kapseln</li>
</ul>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">smells.program_design</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Good Parameter List Example</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MethodParameterLength_Good</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clearRect</span><span class="o">(</span><span class="n">Point</span> <span class="n">point</span><span class="o">,</span> <span class="n">Dimension</span> <span class="n">size</span><span class="o">)</span> <span class="o">{}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clearRect</span><span class="o">(</span><span class="n">Point</span> <span class="n">poin1</span><span class="o">,</span> <span class="n">Point</span> <span class="n">point2</span><span class="o">,</span> <span class="kt">long</span> <span class="n">colorRGB</span><span class="o">)</span> <span class="o">{}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clearRect</span><span class="o">(</span><span class="n">Color</span> <span class="n">clearColor</span><span class="o">,</span> <span class="n">Point</span> <span class="n">point</span><span class="o">,</span> <span class="n">Dimension</span> <span class="n">size</span><span class="o">)</span> <span class="o">{}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<span id="document-smells/program-design/magic-numbers"></span><div class="section" id="magic-numbers-s-953">
<h3>5.10. Magic Numbers (S.953)<a class="headerlink" href="#magic-numbers-s-953" title="Permalink to this headline">¶</a></h3>
<p>Magic Numbers sind Zahlenwerte, die im Code «hardgecodet» hinterlegt werden (siehe Beispiel).</p>
<p><strong>Bad Smell weil ...</strong></p>
<ul class="simple">
<li>Magic Numbers sind semantisch nicht aussagekräftig, sprich: Man weiss nicht auf Anhieb, wofür die Zahl steht.</li>
<li>Ein Ersetzen einer Magic Number, die an mehreren Stellen vorkommt ist sehr aufwändig und fehleranfällig!</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">package</span> <span class="n">smells</span><span class="o">.</span><span class="n">program_design</span><span class="p">;</span>

<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Magic</span> <span class="n">Numbers</span> <span class="n">Bad</span> <span class="n">Smell</span> <span class="n">Example</span>
 <span class="o">*/</span>
<span class="n">public</span> <span class="k">class</span> <span class="nc">MagicNumbers_Bad</span> <span class="p">{</span>

    <span class="n">public</span> <span class="n">MagicNumbers_Bad</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">startShow</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">private</span> <span class="n">void</span> <span class="n">startShow</span><span class="p">(</span><span class="nb">int</span> <span class="n">slidesInterval</span><span class="p">)</span> <span class="p">{</span>
        <span class="o">//</span> <span class="n">Do</span> <span class="n">slide</span> <span class="n">show</span>
        <span class="n">playVideo</span><span class="p">(</span><span class="mf">10.0</span><span class="n">f</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">private</span> <span class="n">void</span> <span class="n">playVideo</span><span class="p">(</span><span class="nb">float</span> <span class="n">volume</span><span class="p">)</span> <span class="p">{</span>
        <span class="o">//</span> <span class="n">Play</span> <span class="n">video</span> <span class="k">with</span> <span class="n">volume</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Refactoring</strong></p>
<ul class="simple">
<li>Konstanten verwenden.</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">package</span> <span class="n">smells</span><span class="o">.</span><span class="n">program_design</span><span class="p">;</span>

<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Magic</span> <span class="n">Numbers</span> <span class="n">Bad</span> <span class="n">Smell</span> <span class="n">Example</span>
 <span class="o">*/</span>
<span class="n">public</span> <span class="k">class</span> <span class="nc">MagicNumbers_Good</span> <span class="p">{</span>

    <span class="n">private</span> <span class="n">static</span> <span class="n">final</span> <span class="nb">int</span> <span class="n">SLIDE_INTERVAL</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
    <span class="n">private</span> <span class="n">static</span> <span class="n">final</span> <span class="nb">float</span> <span class="n">VIDEO_VOLUME</span> <span class="o">=</span> <span class="mf">10.0</span><span class="n">f</span><span class="p">;</span>

    <span class="n">public</span> <span class="n">MagicNumbers_Good</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">startShow</span><span class="p">(</span><span class="n">SLIDE_INTERVAL</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">private</span> <span class="n">void</span> <span class="n">startShow</span><span class="p">(</span><span class="nb">int</span> <span class="n">slidesInterval</span><span class="p">)</span> <span class="p">{</span>
        <span class="o">//</span> <span class="n">Do</span> <span class="n">slide</span> <span class="n">show</span>
        <span class="n">playVideo</span><span class="p">(</span><span class="n">VIDEO_VOLUME</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">private</span> <span class="n">void</span> <span class="n">playVideo</span><span class="p">(</span><span class="nb">float</span> <span class="n">volume</span><span class="p">)</span> <span class="p">{</span>
        <span class="o">//</span> <span class="n">Play</span> <span class="n">video</span> <span class="k">with</span> <span class="n">volume</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<span id="document-testing/testing"></span><div class="section" id="testing">
<h2>6. Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="beispiel">
<h3>6.1. Beispiel<a class="headerlink" href="#beispiel" title="Permalink to this headline">¶</a></h3>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">testing</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Car Class</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Car</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="n">numDoors</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">make</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">model</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Car</span><span class="o">(</span><span class="n">String</span> <span class="n">make</span><span class="o">,</span> <span class="n">String</span> <span class="n">model</span><span class="o">,</span> <span class="kt">int</span> <span class="n">numDoors</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">make</span> <span class="o">=</span> <span class="n">make</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">model</span> <span class="o">=</span> <span class="n">model</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">numDoors</span> <span class="o">=</span> <span class="n">numDoors</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getNumDoors</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">numDoors</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%s %s&quot;</span><span class="o">,</span> <span class="n">make</span><span class="o">,</span> <span class="n">model</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">testing</span><span class="o">;</span>


<span class="kn">import</span> <span class="nn">junit.framework.TestCase</span><span class="o">;</span>

<span class="cm">/**</span>
<span class="cm"> * Example Unit Testing for the Class «Car»</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CarTest</span> <span class="kd">extends</span> <span class="n">TestCase</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">Car</span> <span class="n">myCar</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="cm">/**</span>
<span class="cm">     * Basic setup method that is run for every single test</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUp</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">myCar</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Car</span><span class="o">(</span><span class="s">&quot;Honda&quot;</span><span class="o">,</span> <span class="s">&quot;Integra&quot;</span><span class="o">,</span> <span class="mi">4</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Testing if number of doors has been set correctly.</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testNumDoorGetter</span><span class="o">()</span> <span class="o">{</span>

        <span class="n">assertEquals</span><span class="o">(</span>
                <span class="s">&quot;Car&#39;s number of doors is not set correctly!&quot;</span><span class="o">,</span>
                <span class="n">myCar</span><span class="o">.</span><span class="na">getNumDoors</span><span class="o">(),</span>
                <span class="mi">4</span>
        <span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Testing if String representation of Car is &lt;make&gt; &lt;model&gt;</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testStringRepresentation</span><span class="o">()</span> <span class="o">{</span>

        <span class="n">assertEquals</span><span class="o">(</span>
                <span class="s">&quot;Car.toString() does not return representation of the form: &lt;make&gt; &lt;model&gt;!&quot;</span><span class="o">,</span>
                <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%s&quot;</span><span class="o">,</span> <span class="n">myCar</span><span class="o">),</span>
                <span class="s">&quot;Honda Integra&quot;</span>
        <span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**</span>
<span class="cm">     * Tear down method that cleans up for next test</span>
<span class="cm">     */</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">tearDown</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">myCar</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Samuel Blattner.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>